import { useEffect, useState } from "react";
import "./PlanDetails.css";
import { useNavigate, useLocation } from "react-router-dom";
import ArrowBackIosIcon from "@mui/icons-material/ArrowBackIos";
import Typography from "@mui/material/Typography";
import PlanDetailsCard from "../../components/planDetailsCard/PlanDetailsCard";
import OrderModal from "../../components/orderModal/OrderModal";
import MealInfo from "../../components/mealInfoModal/MealInfo";
import SubscribeFirst from "../../components/subscribeFirstModal/SubscribeFirst";
import useAppStore from "../../store/store";
import {
  CardContent,
  Button,
  Box,
  useMediaQuery,
  IconButton,
} from "@mui/material";
import StarIcon from "@mui/icons-material/Star";
import Loader from "../../components/loader/Loader";

const PlanDetails = () => {
  const navigate = useNavigate();
  const location = useLocation();

  // Appstore
  const {
    authenticated,
    setPlanDetailUrl,
    meals,
    fetchMeals,
    mealsByDay,
    setMealsByDay,
    language,
    currentPlan,
    planAvailableDays,
    selectedColor,
  } = useAppStore();

  // States
  const [modalOpen, setModalOpen] = useState(false);
  const [mealInfoModalOpen, setMealInfoModalOpen] = useState(false);
  const isSmallScreen = useMediaQuery("(max-width:500px)");
  const [subscribeFirstModalOpen, setSubscribeFirstModalOpen] = useState(false);
  const [loading, setLoading] = useState(true);
  const [selectedIndex, setSelectedIndex] = useState(null);
  const [availableDays, setAvailableDays] = useState([]);
  const [modalData, setModalData] = useState({});
  const [foodTypes, setFoodTypes] = useState();
  const [windowWidth, setWindowWidth] = useState(window.innerWidth);
  const [selectedFoodType, setSelectedFoodType] = useState();
  const [filteredMeals, setFilteredMeals] = useState([]);

  const isArabic = language == "ar";

  // Set Plan Available Days
  const adjustAvailableDays = (planAvailableDays, currentPlan) => {
    // Get today's date
    const currentDate = new Date();

    // Find today's day
    const todayName = currentDate.toLocaleDateString("en-US", {
      weekday: "long",
    });
    const todayIndex = planAvailableDays.findIndex((day) => day === todayName);

    if (todayIndex === -1) {
      console.error("Today's day is not found in planAvailableDays.");
      return [];
    }

    // Reorder planAvailableDays to start from today
    const reorderedDays = [
      ...planAvailableDays.slice(todayIndex),
      ...planAvailableDays.slice(0, todayIndex),
    ];

    // Add dynamic dates and meal details to the reordered days
    const availableDays = reorderedDays.map((day, index) => {
      const date = new Date();
      date.setDate(currentDate.getDate() + index); // Calculate the date dynamically

      return {
        day,
        date: date.toLocaleDateString("en-GB", {
          day: "2-digit",
          month: "short",
        }),
        totalMeals: currentPlan?.no_of_items.total || 0,
        selectedMeals: 0,
      };
    });

    return availableDays;
  };

  // Icons
  const iconsMap = {
    meals: (
      <svg
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clipPath="url(#clip0_1216_3846)">
          <mask id="path-1-inside-1_1216_3846" fill="white">
            <path d="M0 15.347C0 15.0191 0 14.6931 0 14.3652C0.76875 13.8194 1.10438 13.2578 0.44625 12.2878C0.04875 11.7027 -0.035625 10.7327 0.7275 10.3911C1.56562 10.016 1.46812 9.42896 1.4775 8.76333C1.49437 7.4144 2.0025 6.88228 3.29062 6.81553C3.86625 6.78607 4.45688 6.92941 5.16375 6.65452C3.675 5.10727 2.26125 3.6366 0.84375 2.16789C0.305625 1.61418 0.09375 0.98586 0.675 0.369317C1.26188 -0.253116 1.86188 -0.0155308 2.39062 0.540143C3.405 1.60633 4.4175 2.67448 5.44125 3.73085C6.19875 4.51429 6.82125 5.54121 8.12438 5.38216C8.28563 5.36253 8.48625 5.49212 8.63625 5.60208C8.93437 5.82002 9.135 5.78075 9.4425 5.54317C10.0931 5.03658 12.8006 4.92859 13.1044 5.51568C13.8281 6.92155 14.7469 6.86658 15.8962 6.30698C16.0519 6.2304 16.2694 6.25985 16.4531 6.28341C16.935 6.34428 17.2744 6.13026 17.6006 5.77486C18.5344 4.76366 19.4963 3.7819 20.445 2.78444C20.7188 2.49776 21.0169 2.18557 21.4163 2.44475C21.8044 2.69804 22.2806 3.00631 22.1681 3.57377C22.0763 4.03127 22.245 4.31794 22.455 4.64584C22.9762 5.45874 23.4862 6.28145 24.0019 7.10023C24.0019 7.36138 24.0019 7.62449 24.0019 7.88564C23.2387 8.7005 22.4963 9.53695 21.705 10.3204C21.3113 10.7111 21.1444 11.1156 21.1537 11.687C21.1781 13.2558 21.1781 14.8267 21.1125 16.3916C21.0956 16.8039 21.0413 16.9728 21.5025 17.1377C22.1981 17.3831 22.3162 18.9225 21.6488 19.1405C20.9194 19.38 20.8331 19.9396 20.6269 20.4894C20.3419 21.2493 20.0812 22.019 19.8075 22.7828C19.5094 23.6114 18.9563 24.0041 18.0881 24.0002C13.56 23.9845 9.03375 23.9864 4.50563 23.9982C3.64125 24.0002 3.09375 23.6094 2.80312 22.7671C2.475 21.8148 2.13188 20.8703 1.78313 19.9259C1.6875 19.6667 1.66125 19.3427 1.28813 19.2917C0.6975 19.2112 0.56625 18.7792 0.5625 18.2294C0.55875 17.66 0.639375 17.177 1.29 17.0651C1.50188 17.0297 1.62375 16.8746 1.63687 16.6645C1.64812 16.4681 1.48312 16.3935 1.33125 16.3562C0.75375 16.2109 0.418125 15.72 0 15.347ZM8.10938 12.1622C7.94625 11.8127 7.845 11.4101 7.6125 11.1235C6.79687 10.1162 6.17438 8.83794 4.545 9.04607C3.49125 9.17959 3.45188 9.11676 3.75563 10.2968C4.92938 9.61746 5.51062 9.80006 6.12562 11.0724C6.24937 11.3277 6.2625 11.6654 6.675 11.5653C7.29375 11.4141 7.65188 11.846 8.025 12.2446C8.31375 13.1105 8.26687 14.0118 8.19187 15.0466C8.8725 14.5969 9.50625 14.3161 10.1512 14.5498C10.7887 14.7795 11.0419 14.5792 11.3306 13.9823C11.8088 12.9908 12.1856 12.977 12.9506 13.7605C13.3069 14.1257 13.6556 14.5007 14.01 14.8679C14.6138 15.4962 15.4312 15.5571 16.1175 14.9916C16.8937 14.3534 17.6475 14.3515 18.3994 15.021C18.5344 15.1408 18.6525 15.3804 18.8531 15.2095C18.9469 15.131 18.9675 14.9189 18.9694 14.7658C18.9788 13.623 18.9731 12.4783 18.975 11.3355C18.975 11.096 18.9319 10.8918 18.7181 10.7504C18.1669 10.3832 17.6344 9.97874 17.0681 9.63513C16.6744 9.39558 15.7613 9.59193 15.7594 9.87664C15.7538 10.6463 15.465 11.202 14.6869 11.1627C13.8919 11.1215 13.7269 10.4696 13.7269 9.74901C13.7269 9.44663 13.8281 9.0284 13.3125 9.07749C13.0087 9.10694 12.4819 8.84187 12.6337 9.58408C12.6694 9.75883 12.5344 9.88842 12.36 9.91591C12.1819 9.9434 12.0712 9.83148 11.9944 9.67636C11.9231 9.53106 11.8669 9.37594 11.7844 9.2385C11.2481 8.33528 10.2656 8.01327 9.345 8.43542C8.46937 8.83598 8.03438 9.77454 8.2575 10.7838C8.46375 11.7125 9.3225 12.3232 10.3088 12.2623C10.9969 12.2191 11.4656 11.8362 11.8238 11.257C11.9588 11.039 12.1444 10.9193 12.3731 11.0744C12.6244 11.2452 12.5212 11.4867 12.3862 11.6713C12.18 11.954 11.9738 12.2545 11.7113 12.4704C10.7119 13.2892 9.52687 13.1753 8.10938 12.1622ZM20.2913 19.2976C18.405 19.2976 16.6594 19.3231 14.9119 19.2838C14.2856 19.2701 13.8413 19.3977 13.5806 20.0555C13.3406 20.6583 12.8512 20.9155 12.2269 20.9076C11.6644 20.8998 11.1019 20.888 10.5413 20.9135C9.80625 20.9469 9.25688 20.6642 8.96625 19.9436C8.7525 19.4114 8.39062 19.2897 7.86375 19.2701C7.47562 19.2563 6.735 19.6353 6.74438 18.9049C6.75188 18.3296 7.4625 18.5868 7.85437 18.5848C12.1012 18.5652 16.3463 18.575 20.5931 18.5652C20.8706 18.5652 21.2812 18.7105 21.3281 18.2157C21.3769 17.7012 20.9794 17.77 20.6794 17.77C14.4338 17.766 8.19 17.766 1.94438 17.77C1.64062 17.77 1.26562 17.7091 1.30312 18.2255C1.33687 18.6849 1.69875 18.5612 1.95187 18.5652C2.76375 18.5809 3.5775 18.5357 4.38562 18.5868C4.80375 18.6123 5.54813 18.304 5.56687 18.9186C5.5875 19.6098 4.84125 19.2171 4.44 19.2799C3.9825 19.3506 3.50438 19.3231 3.0375 19.2897C2.43375 19.2465 2.34375 19.4704 2.57063 20.028C2.8875 20.8075 3.14812 21.6125 3.41812 22.4137C3.60562 22.9693 3.92812 23.256 4.52625 23.254C9.05437 23.2403 13.5806 23.2442 18.1087 23.2501C18.6019 23.2501 18.9487 23.0675 19.125 22.5668C19.4906 21.5301 19.8638 20.4953 20.2913 19.2976ZM5.49563 14.9445C5.54812 14.7893 5.58375 14.7049 5.60625 14.6166C5.69438 14.2572 5.55 13.6976 5.99625 13.6152C6.58687 13.5052 6.28312 14.0982 6.39188 14.377C6.52313 14.7167 6.82125 14.5203 7.0425 14.5616C7.27125 14.6028 7.485 14.5655 7.5075 14.2474C7.54688 13.7271 7.5975 13.2028 7.37625 12.708C7.22813 12.3801 6.9825 12.1131 6.64875 12.3664C5.895 12.9358 5.71688 12.5509 5.595 11.8048C5.51813 11.3375 5.37 10.772 4.84125 10.6699C4.27688 10.5599 4.14375 11.1294 3.99188 11.5358C3.7575 12.1622 3.4725 12.062 3.09938 11.6929C2.75625 11.3552 2.36625 11.0881 1.91438 10.931C1.64062 10.8368 1.35938 10.7602 1.11937 10.9841C0.838125 11.2452 0.9225 11.579 1.02187 11.8912C1.17188 12.3624 1.425 12.7767 1.75688 13.1282C2.14875 13.5425 2.13563 13.8311 1.58063 14.057C1.21125 14.2081 0.729375 14.3574 0.76125 14.8698C0.79875 15.4628 1.34625 15.5787 1.785 15.7181C2.73 16.0185 2.73375 16.0048 2.42625 17.0533C3.09562 17.0533 3.74062 17.0552 4.38562 17.0513C4.56 17.0493 4.68563 16.961 4.6875 16.7627C4.69125 16.5369 4.53 16.5408 4.37063 16.5172C4.07812 16.476 3.5775 16.7843 3.58125 16.1991C3.585 15.7279 4.09312 15.8477 4.39875 15.7554C4.53562 15.7142 4.67812 15.6945 4.84125 15.6611C4.46063 14.5655 3.71438 14.8109 2.97188 14.9346C2.6775 14.9837 2.19375 15.2272 2.09438 14.7363C1.9875 14.2062 2.535 14.3358 2.81813 14.214C2.97937 14.1433 3.19125 14.2396 3.51187 13.8606C3.17812 13.5366 2.80687 13.2539 2.45438 12.9476C2.27813 12.7964 2.14687 12.5765 2.32875 12.3546C2.56313 12.0718 2.76562 12.28 2.96062 12.4547C3.30188 12.7591 3.54375 13.1969 4.0275 13.409C4.11562 12.9908 4.185 12.6472 4.26375 12.3055C4.305 12.1307 4.41375 12.0228 4.59375 12.0247C4.84875 12.0286 4.8975 12.227 4.89 12.4272C4.87875 12.7198 4.875 13.0241 4.7925 13.299C4.57687 14.0236 4.7325 14.5655 5.49563 14.9445ZM20.0306 6.16757C20.3231 6.4189 20.9606 6.07135 20.9119 6.66433C20.8744 7.12969 20.3569 7.01777 20.0513 6.97457C18.7294 6.79393 18.3056 8.02701 17.5256 8.69068C17.3213 8.86347 17.4994 9.03233 17.6663 9.14621C18.3675 9.62924 19.0688 10.1142 19.7681 10.5972C20.04 10.7838 20.2838 10.7681 20.5181 10.5187C21.3731 9.61549 22.2487 8.73584 23.0794 7.81103C23.4225 7.4301 23.3156 7.10809 22.7869 6.99028C22.1119 6.83909 22.1138 6.82927 22.4137 6.21469C22.5019 6.03601 22.3931 5.90838 22.3125 5.77683C22.0613 5.37038 21.8062 4.96786 21.5625 4.57909C21.0394 5.1269 20.5594 5.62171 20.0306 6.16757ZM9.55875 7.46348C8.8875 6.6015 8.22 5.86911 7.07062 6.03405C6.63 6.09688 6.38812 5.77879 6.12562 5.50194C4.7775 4.09213 3.43687 2.67448 2.07938 1.27646C1.83938 1.02906 1.56938 0.508727 1.18125 0.940699C0.8625 1.29413 1.2825 1.5808 1.51312 1.82232C2.83312 3.21445 4.155 4.60657 5.48812 5.98496C5.8575 6.36588 6.09375 6.72717 6.06562 7.33782C6.01875 8.38633 6.66937 9.04018 7.4925 9.67636C7.485 9.0932 6.74437 8.97931 7.04062 8.46095C7.2975 8.0113 7.58625 8.56305 7.96688 8.61214C7.75313 8.2646 7.45688 8.02308 7.7325 7.73445C7.99875 7.45367 8.21812 7.866 8.49375 7.87189C8.47688 7.57737 7.99875 7.31622 8.39812 7.0374C8.90625 6.68593 9.01875 7.59504 9.55875 7.46348ZM15.3469 16.0774C15.6731 16.5977 15.9281 17.0847 16.5619 17.0709C17.4919 17.0493 18.4219 17.069 19.3538 17.0611C19.5263 17.0592 19.7494 17.1298 19.8394 16.8982C19.935 16.6508 19.7906 16.4603 19.635 16.2973C19.425 16.0794 19.1475 15.9478 18.8719 16.046C18.4331 16.2011 18.2194 16.0421 17.9606 15.6651C17.5894 15.1251 16.9856 15.0583 16.62 15.5787C16.2638 16.0853 15.9 16.1795 15.3469 16.0774ZM9.63 17.177C9.85688 16.6292 10.7644 17.7032 10.785 16.5153C10.8 15.7181 10.5619 15.184 9.70875 15.1958C9 15.2036 8.21063 15.936 8.29125 16.5938C8.40563 17.5068 9.15375 16.8275 9.63 17.177ZM21.3169 3.64053C21.4181 3.42061 21.3244 3.31066 21.2194 3.25764C20.9925 3.14376 20.8894 3.36956 20.7675 3.49523C19.3313 4.99142 17.895 6.48958 16.4719 7.99952C16.3088 8.17428 15.8888 8.36277 16.2244 8.67693C16.4906 8.92826 16.65 8.53163 16.8056 8.37259C18.2044 6.92744 19.59 5.47052 20.9794 4.01556C21.1106 3.87811 21.2344 3.73281 21.3169 3.64053ZM4.11563 7.54202C2.24438 7.54202 2.13937 7.65002 2.16937 9.43485C2.17687 9.857 2.1075 10.4303 2.67 10.395C3.15 10.3656 2.93062 9.80006 2.91188 9.50161C2.85375 8.5925 3.21187 8.28816 4.06125 8.29798C4.5 8.30387 5.33813 8.67693 5.34375 7.96614C5.34937 7.16307 4.48125 7.73641 4.11563 7.54202ZM6.40313 17.0651C7.515 17.0651 7.70625 16.8805 7.70625 15.9105C7.70625 15.3215 7.29 15.345 6.93 15.3254C6.18562 15.2861 5.4 15.9694 5.4525 16.6409C5.51625 17.4244 6.14438 16.8805 6.40313 17.0651ZM20.4431 15.8595C20.4431 15.4923 20.4431 15.2331 20.4431 14.9759C20.4431 14.0354 20.4487 13.0929 20.4394 12.1523C20.4375 11.848 20.5331 11.469 20.0231 11.4769C19.53 11.4828 19.7044 11.8676 19.6987 12.1052C19.6781 13.0143 19.7156 13.9234 19.68 14.8306C19.6594 15.3764 19.8919 15.6572 20.4431 15.8595ZM11.3888 19.2976C10.9875 19.2976 10.5844 19.272 10.185 19.3074C9.9825 19.3251 9.62437 19.1189 9.61125 19.543C9.60375 19.8022 9.79125 20.0673 10.0463 20.1105C10.8713 20.2518 11.7056 20.2401 12.5325 20.1203C12.8325 20.0771 13.0538 19.761 13.0238 19.49C12.9844 19.1326 12.6244 19.327 12.4088 19.3074C12.0694 19.274 11.7281 19.2976 11.3888 19.2976ZM11.4525 6.81749C11.73 6.81749 12.0112 6.83909 12.2869 6.8116C12.5419 6.78607 12.9825 6.96082 13.0031 6.61917C13.0256 6.22844 12.6938 5.93784 12.2475 5.9398C11.6287 5.94176 11.0119 5.93784 10.3931 5.9398C10.0988 5.94176 9.76875 6.00656 9.75937 6.35606C9.74625 6.78804 10.1175 6.80767 10.4344 6.81356C10.7738 6.81945 11.1131 6.81553 11.4525 6.81749ZM11.4469 16.0146C11.4525 16.1442 11.46 16.2757 11.4656 16.4053C11.4919 16.8785 11.7 17.1083 12.1838 17.0651C12.7463 17.014 12.5044 16.6409 12.4688 16.3543C12.4106 15.885 12.4987 15.4471 12.6881 15.0269C12.8981 14.5616 12.5663 14.3318 12.2831 14.1826C11.9513 14.0079 11.8969 14.4045 11.7938 14.6067C11.5688 15.0426 11.4637 15.5178 11.4469 16.0146ZM16.2113 7.17092C14.79 7.15914 13.8525 8.90077 14.49 10.1888C14.5369 10.285 14.6737 10.397 14.7656 10.393C15.015 10.3813 15.0487 10.1417 15.0206 9.95911C14.8425 8.77511 15.2475 7.866 16.2113 7.17092ZM11.1994 7.54595C11.8631 8.52771 12.7256 8.32547 13.53 8.30583C13.8 8.29994 13.8844 8.06236 13.8825 7.82281C13.8806 7.54988 13.6613 7.54988 13.4794 7.54791C12.7519 7.54202 12.0244 7.54595 11.1994 7.54595ZM15.0056 16.7313C14.5988 16.3818 14.1938 16.0283 13.7831 15.6847C13.6519 15.5747 13.545 15.3018 13.3519 15.4471C13.2281 15.5394 13.1737 15.7848 13.1569 15.9675C13.0669 16.9178 13.4587 17.1554 15.0056 16.7313Z" />
          </mask>
          <path
            d="M0 15.347C0 15.0191 0 14.6931 0 14.3652C0.76875 13.8194 1.10438 13.2578 0.44625 12.2878C0.04875 11.7027 -0.035625 10.7327 0.7275 10.3911C1.56562 10.016 1.46812 9.42896 1.4775 8.76333C1.49437 7.4144 2.0025 6.88228 3.29062 6.81553C3.86625 6.78607 4.45688 6.92941 5.16375 6.65452C3.675 5.10727 2.26125 3.6366 0.84375 2.16789C0.305625 1.61418 0.09375 0.98586 0.675 0.369317C1.26188 -0.253116 1.86188 -0.0155308 2.39062 0.540143C3.405 1.60633 4.4175 2.67448 5.44125 3.73085C6.19875 4.51429 6.82125 5.54121 8.12438 5.38216C8.28563 5.36253 8.48625 5.49212 8.63625 5.60208C8.93437 5.82002 9.135 5.78075 9.4425 5.54317C10.0931 5.03658 12.8006 4.92859 13.1044 5.51568C13.8281 6.92155 14.7469 6.86658 15.8962 6.30698C16.0519 6.2304 16.2694 6.25985 16.4531 6.28341C16.935 6.34428 17.2744 6.13026 17.6006 5.77486C18.5344 4.76366 19.4963 3.7819 20.445 2.78444C20.7188 2.49776 21.0169 2.18557 21.4163 2.44475C21.8044 2.69804 22.2806 3.00631 22.1681 3.57377C22.0763 4.03127 22.245 4.31794 22.455 4.64584C22.9762 5.45874 23.4862 6.28145 24.0019 7.10023C24.0019 7.36138 24.0019 7.62449 24.0019 7.88564C23.2387 8.7005 22.4963 9.53695 21.705 10.3204C21.3113 10.7111 21.1444 11.1156 21.1537 11.687C21.1781 13.2558 21.1781 14.8267 21.1125 16.3916C21.0956 16.8039 21.0413 16.9728 21.5025 17.1377C22.1981 17.3831 22.3162 18.9225 21.6488 19.1405C20.9194 19.38 20.8331 19.9396 20.6269 20.4894C20.3419 21.2493 20.0812 22.019 19.8075 22.7828C19.5094 23.6114 18.9563 24.0041 18.0881 24.0002C13.56 23.9845 9.03375 23.9864 4.50563 23.9982C3.64125 24.0002 3.09375 23.6094 2.80312 22.7671C2.475 21.8148 2.13188 20.8703 1.78313 19.9259C1.6875 19.6667 1.66125 19.3427 1.28813 19.2917C0.6975 19.2112 0.56625 18.7792 0.5625 18.2294C0.55875 17.66 0.639375 17.177 1.29 17.0651C1.50188 17.0297 1.62375 16.8746 1.63687 16.6645C1.64812 16.4681 1.48312 16.3935 1.33125 16.3562C0.75375 16.2109 0.418125 15.72 0 15.347ZM8.10938 12.1622C7.94625 11.8127 7.845 11.4101 7.6125 11.1235C6.79687 10.1162 6.17438 8.83794 4.545 9.04607C3.49125 9.17959 3.45188 9.11676 3.75563 10.2968C4.92938 9.61746 5.51062 9.80006 6.12562 11.0724C6.24937 11.3277 6.2625 11.6654 6.675 11.5653C7.29375 11.4141 7.65188 11.846 8.025 12.2446C8.31375 13.1105 8.26687 14.0118 8.19187 15.0466C8.8725 14.5969 9.50625 14.3161 10.1512 14.5498C10.7887 14.7795 11.0419 14.5792 11.3306 13.9823C11.8088 12.9908 12.1856 12.977 12.9506 13.7605C13.3069 14.1257 13.6556 14.5007 14.01 14.8679C14.6138 15.4962 15.4312 15.5571 16.1175 14.9916C16.8937 14.3534 17.6475 14.3515 18.3994 15.021C18.5344 15.1408 18.6525 15.3804 18.8531 15.2095C18.9469 15.131 18.9675 14.9189 18.9694 14.7658C18.9788 13.623 18.9731 12.4783 18.975 11.3355C18.975 11.096 18.9319 10.8918 18.7181 10.7504C18.1669 10.3832 17.6344 9.97874 17.0681 9.63513C16.6744 9.39558 15.7613 9.59193 15.7594 9.87664C15.7538 10.6463 15.465 11.202 14.6869 11.1627C13.8919 11.1215 13.7269 10.4696 13.7269 9.74901C13.7269 9.44663 13.8281 9.0284 13.3125 9.07749C13.0087 9.10694 12.4819 8.84187 12.6337 9.58408C12.6694 9.75883 12.5344 9.88842 12.36 9.91591C12.1819 9.9434 12.0712 9.83148 11.9944 9.67636C11.9231 9.53106 11.8669 9.37594 11.7844 9.2385C11.2481 8.33528 10.2656 8.01327 9.345 8.43542C8.46937 8.83598 8.03438 9.77454 8.2575 10.7838C8.46375 11.7125 9.3225 12.3232 10.3088 12.2623C10.9969 12.2191 11.4656 11.8362 11.8238 11.257C11.9588 11.039 12.1444 10.9193 12.3731 11.0744C12.6244 11.2452 12.5212 11.4867 12.3862 11.6713C12.18 11.954 11.9738 12.2545 11.7113 12.4704C10.7119 13.2892 9.52687 13.1753 8.10938 12.1622ZM20.2913 19.2976C18.405 19.2976 16.6594 19.3231 14.9119 19.2838C14.2856 19.2701 13.8413 19.3977 13.5806 20.0555C13.3406 20.6583 12.8512 20.9155 12.2269 20.9076C11.6644 20.8998 11.1019 20.888 10.5413 20.9135C9.80625 20.9469 9.25688 20.6642 8.96625 19.9436C8.7525 19.4114 8.39062 19.2897 7.86375 19.2701C7.47562 19.2563 6.735 19.6353 6.74438 18.9049C6.75188 18.3296 7.4625 18.5868 7.85437 18.5848C12.1012 18.5652 16.3463 18.575 20.5931 18.5652C20.8706 18.5652 21.2812 18.7105 21.3281 18.2157C21.3769 17.7012 20.9794 17.77 20.6794 17.77C14.4338 17.766 8.19 17.766 1.94438 17.77C1.64062 17.77 1.26562 17.7091 1.30312 18.2255C1.33687 18.6849 1.69875 18.5612 1.95187 18.5652C2.76375 18.5809 3.5775 18.5357 4.38562 18.5868C4.80375 18.6123 5.54813 18.304 5.56687 18.9186C5.5875 19.6098 4.84125 19.2171 4.44 19.2799C3.9825 19.3506 3.50438 19.3231 3.0375 19.2897C2.43375 19.2465 2.34375 19.4704 2.57063 20.028C2.8875 20.8075 3.14812 21.6125 3.41812 22.4137C3.60562 22.9693 3.92812 23.256 4.52625 23.254C9.05437 23.2403 13.5806 23.2442 18.1087 23.2501C18.6019 23.2501 18.9487 23.0675 19.125 22.5668C19.4906 21.5301 19.8638 20.4953 20.2913 19.2976ZM5.49563 14.9445C5.54812 14.7893 5.58375 14.7049 5.60625 14.6166C5.69438 14.2572 5.55 13.6976 5.99625 13.6152C6.58687 13.5052 6.28312 14.0982 6.39188 14.377C6.52313 14.7167 6.82125 14.5203 7.0425 14.5616C7.27125 14.6028 7.485 14.5655 7.5075 14.2474C7.54688 13.7271 7.5975 13.2028 7.37625 12.708C7.22813 12.3801 6.9825 12.1131 6.64875 12.3664C5.895 12.9358 5.71688 12.5509 5.595 11.8048C5.51813 11.3375 5.37 10.772 4.84125 10.6699C4.27688 10.5599 4.14375 11.1294 3.99188 11.5358C3.7575 12.1622 3.4725 12.062 3.09938 11.6929C2.75625 11.3552 2.36625 11.0881 1.91438 10.931C1.64062 10.8368 1.35938 10.7602 1.11937 10.9841C0.838125 11.2452 0.9225 11.579 1.02187 11.8912C1.17188 12.3624 1.425 12.7767 1.75688 13.1282C2.14875 13.5425 2.13563 13.8311 1.58063 14.057C1.21125 14.2081 0.729375 14.3574 0.76125 14.8698C0.79875 15.4628 1.34625 15.5787 1.785 15.7181C2.73 16.0185 2.73375 16.0048 2.42625 17.0533C3.09562 17.0533 3.74062 17.0552 4.38562 17.0513C4.56 17.0493 4.68563 16.961 4.6875 16.7627C4.69125 16.5369 4.53 16.5408 4.37063 16.5172C4.07812 16.476 3.5775 16.7843 3.58125 16.1991C3.585 15.7279 4.09312 15.8477 4.39875 15.7554C4.53562 15.7142 4.67812 15.6945 4.84125 15.6611C4.46063 14.5655 3.71438 14.8109 2.97188 14.9346C2.6775 14.9837 2.19375 15.2272 2.09438 14.7363C1.9875 14.2062 2.535 14.3358 2.81813 14.214C2.97937 14.1433 3.19125 14.2396 3.51187 13.8606C3.17812 13.5366 2.80687 13.2539 2.45438 12.9476C2.27813 12.7964 2.14687 12.5765 2.32875 12.3546C2.56313 12.0718 2.76562 12.28 2.96062 12.4547C3.30188 12.7591 3.54375 13.1969 4.0275 13.409C4.11562 12.9908 4.185 12.6472 4.26375 12.3055C4.305 12.1307 4.41375 12.0228 4.59375 12.0247C4.84875 12.0286 4.8975 12.227 4.89 12.4272C4.87875 12.7198 4.875 13.0241 4.7925 13.299C4.57687 14.0236 4.7325 14.5655 5.49563 14.9445ZM20.0306 6.16757C20.3231 6.4189 20.9606 6.07135 20.9119 6.66433C20.8744 7.12969 20.3569 7.01777 20.0513 6.97457C18.7294 6.79393 18.3056 8.02701 17.5256 8.69068C17.3213 8.86347 17.4994 9.03233 17.6663 9.14621C18.3675 9.62924 19.0688 10.1142 19.7681 10.5972C20.04 10.7838 20.2838 10.7681 20.5181 10.5187C21.3731 9.61549 22.2487 8.73584 23.0794 7.81103C23.4225 7.4301 23.3156 7.10809 22.7869 6.99028C22.1119 6.83909 22.1138 6.82927 22.4137 6.21469C22.5019 6.03601 22.3931 5.90838 22.3125 5.77683C22.0613 5.37038 21.8062 4.96786 21.5625 4.57909C21.0394 5.1269 20.5594 5.62171 20.0306 6.16757ZM9.55875 7.46348C8.8875 6.6015 8.22 5.86911 7.07062 6.03405C6.63 6.09688 6.38812 5.77879 6.12562 5.50194C4.7775 4.09213 3.43687 2.67448 2.07938 1.27646C1.83938 1.02906 1.56938 0.508727 1.18125 0.940699C0.8625 1.29413 1.2825 1.5808 1.51312 1.82232C2.83312 3.21445 4.155 4.60657 5.48812 5.98496C5.8575 6.36588 6.09375 6.72717 6.06562 7.33782C6.01875 8.38633 6.66937 9.04018 7.4925 9.67636C7.485 9.0932 6.74437 8.97931 7.04062 8.46095C7.2975 8.0113 7.58625 8.56305 7.96688 8.61214C7.75313 8.2646 7.45688 8.02308 7.7325 7.73445C7.99875 7.45367 8.21812 7.866 8.49375 7.87189C8.47688 7.57737 7.99875 7.31622 8.39812 7.0374C8.90625 6.68593 9.01875 7.59504 9.55875 7.46348ZM15.3469 16.0774C15.6731 16.5977 15.9281 17.0847 16.5619 17.0709C17.4919 17.0493 18.4219 17.069 19.3538 17.0611C19.5263 17.0592 19.7494 17.1298 19.8394 16.8982C19.935 16.6508 19.7906 16.4603 19.635 16.2973C19.425 16.0794 19.1475 15.9478 18.8719 16.046C18.4331 16.2011 18.2194 16.0421 17.9606 15.6651C17.5894 15.1251 16.9856 15.0583 16.62 15.5787C16.2638 16.0853 15.9 16.1795 15.3469 16.0774ZM9.63 17.177C9.85688 16.6292 10.7644 17.7032 10.785 16.5153C10.8 15.7181 10.5619 15.184 9.70875 15.1958C9 15.2036 8.21063 15.936 8.29125 16.5938C8.40563 17.5068 9.15375 16.8275 9.63 17.177ZM21.3169 3.64053C21.4181 3.42061 21.3244 3.31066 21.2194 3.25764C20.9925 3.14376 20.8894 3.36956 20.7675 3.49523C19.3313 4.99142 17.895 6.48958 16.4719 7.99952C16.3088 8.17428 15.8888 8.36277 16.2244 8.67693C16.4906 8.92826 16.65 8.53163 16.8056 8.37259C18.2044 6.92744 19.59 5.47052 20.9794 4.01556C21.1106 3.87811 21.2344 3.73281 21.3169 3.64053ZM4.11563 7.54202C2.24438 7.54202 2.13937 7.65002 2.16937 9.43485C2.17687 9.857 2.1075 10.4303 2.67 10.395C3.15 10.3656 2.93062 9.80006 2.91188 9.50161C2.85375 8.5925 3.21187 8.28816 4.06125 8.29798C4.5 8.30387 5.33813 8.67693 5.34375 7.96614C5.34937 7.16307 4.48125 7.73641 4.11563 7.54202ZM6.40313 17.0651C7.515 17.0651 7.70625 16.8805 7.70625 15.9105C7.70625 15.3215 7.29 15.345 6.93 15.3254C6.18562 15.2861 5.4 15.9694 5.4525 16.6409C5.51625 17.4244 6.14438 16.8805 6.40313 17.0651ZM20.4431 15.8595C20.4431 15.4923 20.4431 15.2331 20.4431 14.9759C20.4431 14.0354 20.4487 13.0929 20.4394 12.1523C20.4375 11.848 20.5331 11.469 20.0231 11.4769C19.53 11.4828 19.7044 11.8676 19.6987 12.1052C19.6781 13.0143 19.7156 13.9234 19.68 14.8306C19.6594 15.3764 19.8919 15.6572 20.4431 15.8595ZM11.3888 19.2976C10.9875 19.2976 10.5844 19.272 10.185 19.3074C9.9825 19.3251 9.62437 19.1189 9.61125 19.543C9.60375 19.8022 9.79125 20.0673 10.0463 20.1105C10.8713 20.2518 11.7056 20.2401 12.5325 20.1203C12.8325 20.0771 13.0538 19.761 13.0238 19.49C12.9844 19.1326 12.6244 19.327 12.4088 19.3074C12.0694 19.274 11.7281 19.2976 11.3888 19.2976ZM11.4525 6.81749C11.73 6.81749 12.0112 6.83909 12.2869 6.8116C12.5419 6.78607 12.9825 6.96082 13.0031 6.61917C13.0256 6.22844 12.6938 5.93784 12.2475 5.9398C11.6287 5.94176 11.0119 5.93784 10.3931 5.9398C10.0988 5.94176 9.76875 6.00656 9.75937 6.35606C9.74625 6.78804 10.1175 6.80767 10.4344 6.81356C10.7738 6.81945 11.1131 6.81553 11.4525 6.81749ZM11.4469 16.0146C11.4525 16.1442 11.46 16.2757 11.4656 16.4053C11.4919 16.8785 11.7 17.1083 12.1838 17.0651C12.7463 17.014 12.5044 16.6409 12.4688 16.3543C12.4106 15.885 12.4987 15.4471 12.6881 15.0269C12.8981 14.5616 12.5663 14.3318 12.2831 14.1826C11.9513 14.0079 11.8969 14.4045 11.7938 14.6067C11.5688 15.0426 11.4637 15.5178 11.4469 16.0146ZM16.2113 7.17092C14.79 7.15914 13.8525 8.90077 14.49 10.1888C14.5369 10.285 14.6737 10.397 14.7656 10.393C15.015 10.3813 15.0487 10.1417 15.0206 9.95911C14.8425 8.77511 15.2475 7.866 16.2113 7.17092ZM11.1994 7.54595C11.8631 8.52771 12.7256 8.32547 13.53 8.30583C13.8 8.29994 13.8844 8.06236 13.8825 7.82281C13.8806 7.54988 13.6613 7.54988 13.4794 7.54791C12.7519 7.54202 12.0244 7.54595 11.1994 7.54595ZM15.0056 16.7313C14.5988 16.3818 14.1938 16.0283 13.7831 15.6847C13.6519 15.5747 13.545 15.3018 13.3519 15.4471C13.2281 15.5394 13.1737 15.7848 13.1569 15.9675C13.0669 16.9178 13.4587 17.1554 15.0056 16.7313Z"
            fill="#1F1F1F"
            stroke="#F8F8F8"
            strokeWidth="0.2"
            mask="url(#path-1-inside-1_1216_3846)"
          />
          <path
            d="M15.6516 12.7927L15.6518 12.7927C15.6646 12.4278 15.6082 12.1166 15.4668 11.8994C15.33 11.6892 15.1053 11.5541 14.7447 11.5531C14.3802 11.5532 14.1607 11.6924 14.0263 11.9064C13.8868 12.1286 13.8314 12.4436 13.8305 12.8042L15.6516 12.7927ZM15.6516 12.7927L15.6518 12.799M15.6516 12.7927L15.6518 12.799M15.6518 12.799C15.662 13.1552 15.6273 13.4633 15.5023 13.6887C15.3823 13.9052 15.1713 14.0588 14.7904 14.0926L14.7903 14.0926M15.6518 12.799L14.7903 14.0926M14.7903 14.0926C14.4804 14.1203 14.2474 14.0152 14.0878 13.8051M14.7903 14.0926L14.0878 13.8051M14.0878 13.8051C13.9241 13.5895 13.8296 13.2521 13.8305 12.8043L14.0878 13.8051Z"
            fill="#1F1F1F"
            stroke="#F8F8F8"
            strokeWidth="0.2"
          />
        </g>
        <defs>
          <clipPath id="clip0_1216_3846">
            <rect width="24" height="24" fill="white" />
          </clipPath>
        </defs>
      </svg>
    ),
    snacks: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M5.67469 19.5C4.77793 19.0995 4.49112 18.4064 4.50021 17.4362C4.53655 13.4153 4.51448 9.39442 4.51578 5.3722C4.51708 3.97294 5.03229 3.5308 6.41182 3.76748C6.5948 3.79869 6.67916 3.72196 6.79985 3.62703C7.96524 2.71153 9.21369 2.80386 10.2389 3.87931C10.7074 4.37088 11.0267 4.95477 11.2174 5.59978C11.5562 6.74155 12.2985 7.47369 13.4055 7.86512C14.3684 8.20583 15.1406 8.80142 15.6805 9.67141C15.8401 9.92889 16.014 9.99391 16.306 9.98871C17.4636 9.9666 17.9477 10.3931 18.045 11.5713C18.1047 12.2957 18.2384 12.821 19.0754 13.0811C20.0332 13.3789 20.6275 14.1774 21 15.1124C21 15.457 21 15.8003 21 16.1449C20.804 16.5207 20.6872 16.9434 20.3446 17.2295C20.2382 17.3179 20.2058 17.4154 20.2252 17.5637C20.3875 18.8095 20.3135 18.9629 19.3246 19.5C14.7746 19.5 10.2247 19.5 5.67469 19.5ZM12.5658 18.8446C14.6254 18.8446 16.6849 18.8407 18.7445 18.8472C19.1325 18.8485 19.492 18.7952 19.6672 18.4064C19.8554 17.9889 19.566 17.7249 19.3038 17.4623C15.0523 13.2099 10.8009 8.95747 6.54938 4.70508C6.29112 4.4463 6.03546 4.1394 5.6111 4.32016C5.18413 4.50222 5.15688 4.88844 5.15688 5.29678C5.16207 9.40352 5.15818 13.509 5.16077 17.6157C5.16077 18.5598 5.44368 18.842 6.38716 18.8433C8.44671 18.8459 10.5063 18.8446 12.5658 18.8446ZM15.1458 10.0225C14.6474 9.26047 14.0245 8.76371 13.2329 8.49062C11.8767 8.02247 10.9955 7.11477 10.575 5.73632C10.3648 5.0471 10.0027 4.4346 9.40057 4.00806C8.81009 3.58932 8.18197 3.50089 7.52919 3.86891C7.13467 4.09128 7.02955 4.30325 7.42148 4.68558C8.86979 6.09264 10.3622 7.46459 11.6859 8.98348C12.6138 10.0485 13.6014 10.4491 14.9316 10.0862C14.9732 10.0758 15.0134 10.0628 15.1458 10.0225ZM17.7751 14.8874C17.6401 13.6676 17.5207 12.4959 17.3766 11.3281C17.3182 10.8548 17.0042 10.5934 16.5331 10.622C15.6065 10.6779 14.6812 10.7729 13.7663 10.8509C15.1068 12.2007 16.4124 13.5142 17.7751 14.8874ZM18.2189 13.4218C18.542 14.4739 18.093 15.6222 19.1092 16.3517C19.3337 16.5129 19.4297 16.9499 19.7905 16.8068C20.1539 16.6625 20.2745 16.275 20.3317 15.9095C20.4199 15.3452 20.2304 14.8497 19.8606 14.4284C19.4596 13.968 18.9586 13.6559 18.2189 13.4218Z"
          fill="#1F1F1F"
        />
        <path
          d="M11.9753 12.3283C11.9662 12.5207 11.8235 12.6287 11.7041 12.7496C10.3544 14.1008 9.00473 15.4493 7.65376 16.7991C7.47207 16.9812 7.26183 17.2361 7.01396 16.9721C6.76868 16.7107 7.03991 16.5104 7.219 16.331C8.56738 14.9785 9.91576 13.6287 11.2667 12.2789C11.4017 12.1436 11.5276 11.9707 11.7547 12.0396C11.8845 12.0799 11.9636 12.1839 11.9753 12.3283Z"
          fill="#1F1F1F"
        />
        <path
          d="M13.6675 14.0749C13.6467 14.2647 13.5026 14.3714 13.3833 14.4897C12.5034 15.3714 11.6248 16.2531 10.7384 17.127C10.5671 17.296 10.3763 17.5886 10.1051 17.2973C9.88837 17.0645 10.0921 16.8656 10.2621 16.6952C11.1732 15.7836 12.0829 14.872 12.9965 13.9643C13.1289 13.833 13.26 13.6613 13.491 13.7615C13.6233 13.8213 13.6765 13.9318 13.6675 14.0749Z"
          fill="#1F1F1F"
        />
        <path
          d="M6.92944 13.9812C6.7763 13.9656 6.68027 13.9253 6.62446 13.8212C6.52194 13.6275 6.63744 13.4922 6.76073 13.3687C7.39533 12.7289 8.03254 12.0917 8.67104 11.4532C9.00456 11.119 9.33679 10.7834 9.67681 10.4557C9.83124 10.3075 10.0116 10.2503 10.1829 10.4323C10.3374 10.5962 10.2608 10.7613 10.1349 10.8888C9.15251 11.8797 8.16491 12.8654 7.17471 13.8473C7.10204 13.9188 6.99173 13.9487 6.92944 13.9812Z"
          fill="#1F1F1F"
        />
        <path
          d="M6.264 11.2362C6.12644 11.2401 6.0317 11.1959 5.9746 11.0958C5.89154 10.9488 5.9136 10.8058 6.0317 10.6875C6.67799 10.0373 7.32427 9.38964 7.97446 8.74333C8.10813 8.61068 8.27683 8.56257 8.43386 8.68871C8.59608 8.82005 8.57921 9.01642 8.45463 9.14516C7.78498 9.83178 7.10236 10.5028 6.41973 11.1764C6.3782 11.2167 6.30293 11.2232 6.264 11.2362Z"
          fill="#1F1F1F"
        />
        <path
          d="M13.099 18.0776C12.9433 18.0698 12.8525 18.0191 12.7992 17.9176C12.7175 17.7642 12.7616 17.6276 12.8771 17.5119C13.5247 16.863 14.1697 16.2128 14.8225 15.5691C14.9561 15.4377 15.1313 15.4013 15.2806 15.5392C15.4337 15.6796 15.4052 15.8656 15.278 15.9969C14.6213 16.6666 13.9556 17.3259 13.2872 17.9853C13.2327 18.0386 13.1406 18.0581 13.099 18.0776Z"
          fill="#1F1F1F"
        />
      </svg>
    ),
    juice: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 15 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M14.2145 0.146484C14.2359 0.158225 14.2548 0.17388 14.2775 0.181707C14.6072 0.297811 14.8098 0.530018 14.8475 0.890071C14.8878 1.26708 14.733 1.54886 14.4172 1.73672C13.7741 2.11895 13.1323 2.50639 12.4854 2.8821C12.3507 2.96037 12.2903 3.04517 12.2979 3.21084C12.3117 3.53045 12.313 3.85268 12.2979 4.17229C12.2891 4.35623 12.3545 4.41102 12.5169 4.38754C12.5836 4.3784 12.6528 4.38493 12.7207 4.38623C13.1234 4.39145 13.3537 4.62888 13.3537 5.04633C13.355 6.22041 13.3537 7.3945 13.355 8.56727C13.355 9.67744 13.355 10.7863 13.355 11.8965C13.355 11.9786 13.3638 12.0634 13.3298 12.143C13.2732 12.2774 13.1738 12.34 13.0341 12.3217C12.9032 12.3035 12.8227 12.2213 12.8025 12.0843C12.7937 12.0217 12.7975 11.9565 12.7975 11.8925C12.7975 10.4628 12.795 9.03169 12.8013 7.60192C12.8025 7.43494 12.7635 7.38667 12.5974 7.38797C10.5675 7.39449 8.53759 7.39449 6.50893 7.38797C6.35037 7.38797 6.30003 7.42189 6.30129 7.5967C6.31135 8.44987 6.30884 9.30303 6.30254 10.1562C6.30129 10.2919 6.34533 10.3401 6.46489 10.3767C8.52374 11.0133 9.87785 12.9336 9.82626 15.1526C9.8036 16.1479 9.4978 17.0494 8.93526 17.8582C8.90254 17.9052 8.87108 17.9508 8.84088 17.9952C8.86604 18.0617 8.91638 18.0356 8.95414 18.0369C10.1799 18.0382 11.4044 18.0356 12.6301 18.0421C12.7774 18.0434 12.8013 17.9899 12.8013 17.8543C12.7975 16.4245 12.7988 14.9934 12.7988 13.5637C12.7988 13.4997 12.7962 13.4345 12.8013 13.3719C12.8164 13.2166 12.8994 13.124 13.0505 13.111C13.2103 13.0966 13.3084 13.1853 13.3462 13.3419C13.3588 13.3967 13.3563 13.4567 13.3563 13.5141C13.3563 15.1369 13.3575 16.7598 13.3563 18.3826C13.355 19.2736 12.7975 19.8541 11.9405 19.8541C10.3435 19.8554 8.74775 19.8528 7.15075 19.8554C6.93052 19.8554 6.71784 19.8254 6.52152 19.7224C6.43468 19.6767 6.3554 19.6924 6.26982 19.7145C4.22607 20.2285 2.13701 19.284 1.095 17.3768C-0.468018 14.516 1.20197 10.832 4.3129 10.2632C4.73072 10.1862 5.14979 10.1653 5.56886 10.2032C5.71987 10.2162 5.75259 10.1836 5.75259 10.0297C5.74756 8.38855 5.74882 6.74614 5.75008 5.10373C5.75008 4.6067 5.96024 4.38754 6.43846 4.38754C7.15579 4.38754 7.87437 4.38754 8.5917 4.38754C8.65336 4.38754 8.71755 4.38493 8.77669 4.39928C8.92016 4.4345 9.00448 4.53625 8.99818 4.68888C8.99063 4.84934 8.90128 4.95501 8.7402 4.96023C8.51745 4.96806 8.2947 4.96414 8.07195 4.96414C7.53962 4.96414 7.00729 4.96805 6.47495 4.96153C6.35037 4.96023 6.30129 4.98762 6.3038 5.12982C6.31135 5.63598 6.3101 6.14344 6.30506 6.6496C6.3038 6.76701 6.3252 6.81789 6.45482 6.81789C7.81648 6.81267 9.17689 6.81398 10.5385 6.81658C10.6531 6.81658 10.6858 6.77875 10.6845 6.66265C10.6795 6.14997 10.6782 5.63598 10.6845 5.1233C10.6858 4.99284 10.643 4.95631 10.5247 4.96284C10.3649 4.97197 10.2025 4.96805 10.0427 4.96284C9.85898 4.95762 9.75452 4.85326 9.75075 4.68628C9.74697 4.5206 9.85143 4.40058 10.0289 4.39145C10.2013 4.38101 10.3749 4.38232 10.5486 4.39014C10.6556 4.39406 10.6858 4.35362 10.6845 4.24534C10.6795 3.82267 10.682 3.3987 10.6833 2.97472C10.6845 2.34333 10.9538 1.86586 11.4774 1.55017C12.1821 1.12489 12.8919 0.706131 13.6004 0.287374C13.691 0.233888 13.7867 0.193448 13.881 0.146484C13.9918 0.146484 14.1025 0.146484 14.2145 0.146484ZM1.05976 15.0143C1.0585 17.3651 2.89713 19.2736 5.16237 19.2749C7.42384 19.2762 9.27127 17.3638 9.27379 15.0182C9.27505 12.6713 7.43517 10.7641 5.16615 10.7615C2.89587 10.7615 1.06102 12.6609 1.05976 15.0143ZM7.43768 19.2436C7.46034 19.2606 7.46914 19.2723 7.47795 19.2723C9.01077 19.2736 10.5436 19.2788 12.0764 19.2697C12.3784 19.2684 12.5949 19.0871 12.7283 18.804C12.7862 18.6814 12.795 18.6122 12.6188 18.6135C11.2156 18.6187 9.81241 18.6161 8.40922 18.6174C8.35511 18.6174 8.2947 18.6031 8.24814 18.6448C8.00022 18.8718 7.72587 19.0623 7.43768 19.2436ZM11.2408 3.55915C11.2395 3.55915 11.2395 3.55915 11.2408 3.55915C11.2395 3.72614 11.2395 3.89181 11.2395 4.05879C11.2395 4.39014 11.2395 4.38101 11.5629 4.39014C11.7114 4.39406 11.7517 4.34579 11.7479 4.19577C11.7391 3.79919 11.7479 3.40131 11.7442 3.00473C11.7416 2.77121 11.831 2.60032 12.0336 2.48943C12.1859 2.40594 12.3331 2.31202 12.4841 2.222C13.0354 1.89326 13.5878 1.56713 14.1378 1.23708C14.2976 1.14054 14.3467 0.983997 14.2624 0.850935C14.173 0.710045 14.0459 0.685258 13.9075 0.768749C13.1637 1.21099 12.4162 1.64931 11.6787 2.10329C11.3893 2.28201 11.2496 2.57292 11.242 2.92515C11.237 3.13648 11.2408 3.34782 11.2408 3.55915ZM11.7454 5.90341C11.7454 5.70512 11.7479 5.50552 11.7454 5.30723C11.7404 4.90805 11.8008 4.97849 11.4107 4.96153C11.2659 4.95501 11.2345 5.00719 11.237 5.14678C11.2458 5.58249 11.2395 6.01821 11.2395 6.45523C11.2395 6.83224 11.2395 6.82833 11.6082 6.81789C11.7127 6.81528 11.7492 6.78136 11.7467 6.67309C11.7416 6.41609 11.7454 6.1604 11.7454 5.90341ZM12.7988 5.89297C12.7988 5.69468 12.7988 5.49639 12.7988 5.2968C12.7988 4.95892 12.7988 4.96675 12.4753 4.96153C12.3331 4.95892 12.2966 5.0098 12.2991 5.14939C12.3067 5.5851 12.3017 6.02082 12.3017 6.45653C12.3017 6.84137 12.3017 6.83746 12.6729 6.81789C12.7698 6.81267 12.8 6.78006 12.7988 6.68222C12.795 6.4174 12.7988 6.15518 12.7988 5.89297Z"
          fill="#1F1F1F"
        />
      </svg>
    ),
    "Big Salad": (
      <svg
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M0.000462895 11.5995C0.000462895 15.7517 2.0178 19.7278 5.15279 21.8119V22.8C5.15279 23.46 5.68784 24 6.34179 24H17.4391C18.0931 24 18.6281 23.46 18.6281 22.8V21.8119C21.7631 19.7278 23.7805 15.7517 23.7805 11.5995C23.7805 10.9395 23.2454 10.3995 22.5915 10.3995H21.7988C21.993 10.1635 22.1594 9.90348 22.2783 9.61547C22.6271 8.75944 22.5597 7.7834 22.1198 6.98338C22.4091 6.72337 22.639 6.39935 22.7936 6.02334C22.9232 5.70584 22.9888 5.36548 22.9868 5.0221C22.9848 4.67872 22.915 4.33918 22.7817 4.02327C22.5122 3.38324 22.0168 2.88723 21.3906 2.63122C21.3628 2.61922 21.339 2.60722 21.3113 2.59921C21.5134 1.59918 20.9903 0.56314 20.0232 0.159125C19.0601 -0.236889 17.9662 0.131124 17.4153 0.987156C17.3916 0.975155 17.3678 0.967155 17.344 0.955155C16.0282 0.411135 14.5221 1.05116 13.9831 2.37521C13.8285 2.75122 13.7651 3.14323 13.7889 3.53925C13.2926 3.68711 12.8422 3.96122 12.481 4.33528C11.8469 3.42325 10.9947 2.79522 9.90483 2.79522C8.68016 2.79522 7.75274 3.58325 7.10275 4.68329C6.82532 4.42328 6.48447 4.24728 6.11588 4.17527L6.16741 2.2072C6.17533 1.88719 6.0604 1.58318 5.84241 1.35117C5.62443 1.11916 5.32718 0.983156 5.00615 0.975155H4.97444C4.54244 0.975155 4.16592 1.21516 3.95587 1.56718C3.73392 0.983156 3.10375 0.659144 2.50133 0.847151C2.19615 0.939154 1.94646 1.14716 1.79982 1.43117C1.66506 1.69118 1.62939 1.98319 1.69677 2.2672C1.59769 2.2192 1.49464 2.1792 1.38763 2.1632C1.23364 2.136 1.07583 2.14003 0.923401 2.17506C0.770974 2.21009 0.626986 2.27541 0.499843 2.36721C0.242226 2.55521 0.0678395 2.83522 0.0163162 3.15124C-0.0352071 3.46725 0.0361329 3.78326 0.218446 4.04327L1.35196 5.65533C1.18154 5.83133 1.03093 6.02734 0.931846 6.25935C0.690083 6.80337 0.698009 7.42739 0.947699 7.96741L2.07725 10.3995H1.18946C0.535513 10.3995 0.000462895 10.9395 0.000462895 11.5995ZM17.8355 22.8C17.8355 23.02 17.6571 23.2 17.4391 23.2H6.34179C6.12381 23.2 5.94546 23.02 5.94546 22.8V21.9999H17.8355V22.8ZM22.9878 11.5995C22.9878 15.4637 21.0339 19.3038 18.1169 21.1999H5.66406C2.74705 19.3038 0.793129 15.4637 0.793129 11.5995C0.793129 11.3795 0.971479 11.1995 1.18946 11.1995H22.5915C22.8094 11.1995 22.9878 11.3795 22.9878 11.5995ZM8.71979 9.59947C8.71979 8.93945 9.25484 8.39943 9.90879 8.39943C10.5627 8.39943 11.0978 8.93945 11.0978 9.59947C11.0978 9.89548 10.9829 10.1795 10.7847 10.3995H9.0329C8.83473 10.1795 8.71979 9.89548 8.71979 9.59947ZM14.2962 4.24728C14.4032 4.23127 14.5023 4.16727 14.5617 4.07927C14.6252 3.98727 14.645 3.87526 14.6212 3.76726C14.5419 3.40724 14.5736 3.03523 14.7163 2.68722C15.0889 1.76718 16.1352 1.32717 17.0349 1.69918C17.1379 1.74718 17.2608 1.79919 17.348 1.86719C17.447 1.93919 17.5739 1.96319 17.6928 1.92719C17.8117 1.89119 17.9068 1.80719 17.9504 1.69118L17.9662 1.65518C18.2516 0.963155 19.0403 0.623142 19.7299 0.907153C20.4195 1.19116 20.7485 1.99119 20.4671 2.68722L20.4513 2.72722C20.4077 2.83922 20.4156 2.96723 20.4711 3.07123C20.5305 3.17524 20.6336 3.25124 20.7525 3.27124C20.8595 3.28724 20.9704 3.32324 21.0854 3.37524C21.5253 3.55525 21.8701 3.89926 22.0564 4.33928C22.2427 4.7833 22.2466 5.27531 22.0643 5.72333C21.9216 6.07134 21.6838 6.35935 21.3826 6.55536C21.2915 6.61536 21.2241 6.71137 21.2043 6.81937C21.1845 6.92737 21.2083 7.03938 21.2756 7.13138C21.5024 7.44145 21.6467 7.80505 21.6946 8.18743C21.7424 8.56981 21.6924 8.95819 21.5491 9.31546C21.3607 9.77478 21.026 10.1576 20.5979 10.4035H16.3096L16.694 9.45547L18.4934 9.15946C18.7074 9.12345 18.858 8.91945 18.8223 8.69944C18.7867 8.47943 18.5845 8.33543 18.3665 8.36743L17.0468 8.58343L17.776 6.78337L19.5793 6.48736C19.7933 6.45136 19.9439 6.24735 19.9083 6.02734C19.8726 5.80733 19.6705 5.66333 19.4525 5.69533L18.1287 5.91534L18.9254 3.94326C18.9449 3.89467 18.9547 3.84268 18.9543 3.79025C18.9539 3.73782 18.9433 3.68598 18.9231 3.63769C18.9028 3.5894 18.8734 3.54561 18.8364 3.50882C18.7994 3.47202 18.7555 3.44294 18.7074 3.42325C18.6592 3.40355 18.6077 3.39361 18.5558 3.39401C18.5038 3.3944 18.4525 3.40512 18.4046 3.42555C18.3568 3.44598 18.3134 3.47572 18.2769 3.51307C18.2405 3.55043 18.2117 3.59466 18.1922 3.64325L17.3955 5.61133L16.6029 4.51929C16.4721 4.33928 16.2263 4.30328 16.048 4.43128C15.8696 4.56329 15.834 4.8113 15.9608 4.9913L17.0388 6.47936L16.3096 8.27942L15.5169 7.18738C15.3861 7.00738 15.1404 6.97137 14.962 7.09938C14.7837 7.23138 14.748 7.47939 14.8748 7.6594L15.9529 9.14746L15.4456 10.3995H13.6779C13.7968 10.0115 13.8682 9.60747 13.8682 9.19946C13.8682 7.91541 13.5551 6.32335 12.909 5.0513C13.2541 4.61795 13.7477 4.33103 14.2922 4.24728H14.2962ZM9.90879 3.59925C11.9499 3.59925 13.0795 6.91137 13.0795 9.19946C13.0795 9.61147 12.9962 10.0195 12.8417 10.3995H11.724C11.831 10.1515 11.8905 9.87948 11.8905 9.59947C11.8905 8.49543 11.0027 7.5994 9.90879 7.5994C8.81491 7.5994 7.92713 8.49543 7.92713 9.59947C7.92713 9.87948 7.98658 10.1515 8.09359 10.3995H6.97593C6.82136 10.0195 6.73813 9.61147 6.73813 9.19946C6.73813 8.97145 6.75398 8.72744 6.7738 8.48343C6.97593 6.27935 8.06981 3.59925 9.90879 3.59925ZM4.70494 1.89119C4.78024 1.81919 4.87536 1.76718 4.98633 1.78319C5.09334 1.78319 5.19243 1.83119 5.26773 1.90719C5.33907 1.98319 5.3787 2.0832 5.37474 2.1912L5.32322 4.18327C5.25584 4.19527 5.19243 4.20327 5.12505 4.22727L4.79609 4.32728L4.5464 3.49525L4.57811 2.1752C4.57811 2.0672 4.62567 1.96719 4.70097 1.89519L4.70494 1.89119ZM2.50529 1.81119C2.55285 1.71518 2.63608 1.64718 2.73912 1.61518C2.94918 1.55118 3.17113 1.67118 3.23454 1.88319L4.04306 4.55929L3.28606 4.7953L2.47755 2.1192C2.44584 2.01919 2.45773 1.90719 2.50529 1.81519V1.81119ZM0.801056 3.28324C0.816909 3.17924 0.872396 3.08323 0.959589 3.01923C1.13794 2.89123 1.38763 2.93923 1.51446 3.11523L2.27542 4.19527L2.5251 5.0233L2.20011 5.12331C2.13274 5.14331 2.07725 5.17531 2.01384 5.20331L0.864469 3.57125C0.805019 3.48325 0.785203 3.37924 0.801056 3.27524V3.28324ZM2.07725 8.51143L3.82904 7.97141C4.0391 7.90741 4.158 7.6834 4.09062 7.47139C4.02324 7.25939 3.80526 7.13938 3.5952 7.20738L1.73244 7.77941L1.6611 7.6234C1.50653 7.29139 1.50257 6.91137 1.64921 6.57936C1.79585 6.24735 2.07725 5.99534 2.42206 5.89134L5.35096 4.9873C5.86223 4.8273 6.40521 5.0233 6.71038 5.44732C6.34179 6.29535 6.10796 7.23939 6.00491 8.13142L5.19243 8.37943C5.14244 8.39448 5.09593 8.41944 5.05561 8.45285C5.01529 8.48626 4.98198 8.52745 4.95763 8.57401C4.93327 8.62057 4.91836 8.67156 4.91376 8.724C4.90916 8.77645 4.91497 8.82929 4.93085 8.87945C4.96153 8.98116 5.03088 9.06647 5.12373 9.11669C5.21657 9.16692 5.32536 9.17798 5.42626 9.14746L5.94546 8.98745C5.94546 9.05545 5.93753 9.12745 5.93753 9.19546C5.93753 9.60347 6.00491 10.0075 6.12777 10.3955H2.95711L2.08121 8.50743L2.07725 8.51143Z"
          fill="#1F1F1F"
        />
      </svg>
    ),
  };

  // Arabic of Items
  const itemsArabic = {
    meals: "وجبات",
    snacks: "وجبات خفيفة",
    juice: "عصير",
    "Big Salad": "سلطة كبيرة",
  };

  // Aranic of Days
  const getDaysArabic = (currentDay) => {
    switch (currentDay) {
      case "Sunday":
        return "الأحد";
      case "Monday":
        return "الاثنين";
      case "Tuesday":
        return "يوم الثلاثاء";
      case "Wednesday":
        return "الأربعاء";
      case "Thursday":
        return "يوم الخميس";
      case "Friday":
        return "جمعة";
      case "Saturday":
        return "السبت";
      default:
        return currentDay;
    }
  };

  // Arabic of Months
  const getMonthsArabic = (currentMonth) => {
    const month = currentMonth.slice(3, currentMonth.length);
    const date = currentMonth.slice(0, 2);
    switch (month) {
      case "Jan":
        return date + " يناير";
      case "Feb":
        return date + " فبراير";
      case "Mar":
        return date + " مارس";
      case "Apr":
        return date + " أبريل";
      case "May":
        return date + " مايو";
      case "June":
        return date + " يونيو";
      case "July":
        return date + " يوليو";
      case "Aug":
        return date + " أغسطس";
      case "Sep":
        return date + " سبتمبر";
      case "Oct":
        return date + " أكتوبر";
      case "Nov":
        return date + " نوفمبر";
      case "Dec":
        return date + " ديسمبر";
      default:
        return currentMonth;
    }
  };

  // Arabic of Food Types
  const getTypeArabic = (currentType) => {
    switch (currentType) {
      case "Breakfast":
        return "إفطار";
      case "Snacks":
        return "وجبات خفيفة";
      case "Chicken":
        return "فرخة";
      case "Seafood":
        return "المأكولات البحرية";
      case "Sandwiches":
        return "السندويشات";
      case "Beef":
        return "لحم";
      case "Big salad":
        return "سلطة كبيرة";
      default:
        return currentType;
    }
  };

  const handleFoodType = (currentType) => {
    setSelectedFoodType(currentType);
    const filterByType = mealsByDay.filter((meal) => {
      return meal?.detail?.category?.name === currentType;
    });
    setFilteredMeals(filterByType);
    console.log(filterByType);
  };

  // Add Icons in the Plan
  const updatedItems = currentPlan?.no_of_items?.items.map((item) => ({
    ...item,
    arabicName: itemsArabic[item.name] || item.name,
    icon: iconsMap[item.name] || "❓",
  }));

  // filter meals by day
  const handleDayClick = (index) => {
    setSelectedIndex(index);
    const selectedDay = availableDays[index].day.toLowerCase();
    const mealsForSelectedDay = meals[selectedDay] || [];
    setMealsByDay(mealsForSelectedDay);
    const filterByType = mealsForSelectedDay.filter((meal) => {
      return meal?.detail?.category?.name === selectedFoodType;
    });
    setFilteredMeals(filterByType);
  };

  // handle meal selection
  const handleSelect = () => {
    setSubscribeFirstModalOpen(true);
  };

  // handle Navigation
  const handleNavigation = () => {
    if (authenticated) {
      setModalOpen(true);
    } else {
      setPlanDetailUrl(location.pathname);
      navigate("/login", { replace: true });
    }
  };

  // handle Info of Meal
  const handleInfoClick = (meal) => {
    setMealInfoModalOpen(true);
    setModalData({
      isAlergic: meal?.is_allergic,
      name: meal?.detail?.name,
      arabicName: meal?.detail?.name_ar,
      description: meal?.detail?.product_description,
      arabicdescription: meal?.detail?.product_description_ar,
      rating: meal?.detail?.rating,
      image: meal?.detail?.image_url,
      calories: meal?.detail?.calories,
      protein: meal?.detail?.protein,
      fats: meal?.detail?.fats,
      carbs: meal?.detail?.carbs,
    });
  };

  // useEfffect
  useEffect(() => {
    if (!currentPlan) {
      navigate("/subscriptions", { replace: true });
      return;
    }
    const fetchData = async () => {
      const { message, data } = await fetchMeals(currentPlan.meal_list);
      if (message === "success") {
        const types = [
          ...new Set(
            mealsByDay
              .map((meal) => meal.detail?.category?.name)
              .filter(Boolean)
          ),
        ];
        setFoodTypes(types);
        if (data) {
          setFilteredMeals(data);
        }
        setLoading(false);
      }
    };
    fetchData();
    setSelectedIndex(0);
  }, []);

  useEffect(() => {
    if (planAvailableDays && currentPlan) {
      const adjustedDays = adjustAvailableDays(planAvailableDays, currentPlan);
      setAvailableDays(adjustedDays);
    }
  }, [planAvailableDays, currentPlan]);

  useEffect(() => {
    const handleResize = () => {
      const width = window.innerWidth;
      setWindowWidth(width);
    };

    window.addEventListener("resize", handleResize);

    return () => {
      window.removeEventListener("resize", handleResize);
    };
  }, []);

  // Component
  return (
    <>
      <div
        className="container"
        style={{ direction: language === "en" ? "ltr" : "rtl" }}
      >
        {/* Icon and Text */}
        <div style={{ display: "flex", gap: "20px", alignItems: "center" }}>
          <IconButton
            sx={{
              width: { xs: "48px", sm: "56px" },
              height: { xs: "48px", sm: "56px" },
              display: "flex",
              alignItems: "center",
              justifyContent: "center",
              borderRadius: "20%",
              backgroundColor: "#fff",
              cursor: "pointer",
            }}
            onClick={() => navigate(-1)}
          >
            <ArrowBackIosIcon
              sx={{
                fontSize: "24px",
                ml: language === "ar" ? "-10px" : "10px",
                transform:
                  language === "ar" ? "rotate(180deg)" : "rotate(0deg)",
                transition: "transform 0.3s ease-in-out",
              }}
            />
          </IconButton>

          <Typography variant="h5" sx={{ fontFamily: "Poppins, sans-serif" }}>
            {language === "en" ? "Plan Details" : "تفاصيل الخطة"}
          </Typography>
        </div>

        {/* Upper Portion */}
        <div className="planDetails">
          <PlanDetailsCard />
          <div className="rightCard">
            {/* Free Plan */}
            {currentPlan?.free_plans && currentPlan?.free_plans.length > 0 && (
              <div className="freePlan">
                <div className="freePlanUpper">
                  <p>{language === "en" ? "Free Plan" : "خطة مجانية"}</p>
                  <div style={{ display: "flex", gap: "10px" }}>
                    <p>
                      <strike
                        style={{ color: "#515151", fontFamily: "Poppins" }}
                      >
                        {currentPlan?.free_plans[0]?.basic_amount}{" "}
                        {language === "en" ? "SR" : "ريال"}
                      </strike>
                    </p>
                    <p
                      style={{
                        color: "#20A00B",
                        fontWeight: "600",
                        fontFamily: "Poppins",
                      }}
                    >
                      0 {language === "en" ? "SR" : "ريال"}
                    </p>
                  </div>
                </div>
                <div className="freePlanLower">
                  <Typography className="textAndIcon freeplanIcons">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 32 32"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M22.6665 4L22.6665 9.33333"
                        stroke="#1F1F1F"
                        strokeWidth="0.5"
                        strokeLinecap="round"
                      />
                      <path
                        d="M9.3335 4L9.3335 9.33333"
                        stroke="#1F1F1F"
                        strokeWidth="0.5"
                        strokeLinecap="round"
                      />
                      <path
                        d="M4 12C4 10.1144 4 9.17157 4.58579 8.58579C5.17157 8 6.11438 8 8 8H24C25.8856 8 26.8284 8 27.4142 8.58579C28 9.17157 28 10.1144 28 12V14.6667H4V12Z"
                        stroke="#1F1F1F"
                        strokeWidth="0.5"
                      />
                      <rect
                        x="4"
                        y="8"
                        width="24"
                        height="20"
                        rx="2"
                        stroke="#1F1F1F"
                        strokeWidth="0.5"
                      />
                      <path
                        d="M8 20H13.3333"
                        stroke="#1F1F1F"
                        strokeWidth="0.5"
                        strokeLinecap="round"
                      />
                      <path
                        d="M18.6665 20H23.9998"
                        stroke="#1F1F1F"
                        strokeWidth="0.5"
                        strokeLinecap="round"
                      />
                      <path
                        d="M8 24H13.3333"
                        stroke="#1F1F1F"
                        strokeWidth="0.5"
                        strokeLinecap="round"
                      />
                      <path
                        d="M18.6665 24H23.9998"
                        stroke="#1F1F1F"
                        strokeWidth="0.5"
                        strokeLinecap="round"
                      />
                    </svg>
                    {currentPlan?.total_days}{" "}
                    {language === "en" ? "Days" : "أيام"}
                  </Typography>
                  <Typography className="textAndIcon freeplanIcons">
                    <svg
                      width="22"
                      height="22"
                      viewBox="0 0 27 29"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M11.9602 0C12.2529 0.165777 12.4172 0.389348 12.4142 0.752841C12.3944 3.35432 13.3525 5.57102 15.0826 7.4843C16.0901 8.59911 17.1692 9.64777 18.1228 10.8128C19.8665 12.9428 20.7616 15.383 20.8323 18.126C20.8414 18.4902 20.9433 18.5952 21.3053 18.5815C22.049 18.5526 22.795 18.5693 23.5402 18.5739C25.3098 18.5838 26.5911 19.7602 26.6991 21.529C26.7516 22.3845 26.7501 23.2483 26.7022 24.1046C26.6025 25.8665 25.3181 27.0589 23.5471 27.0658C21.3494 27.0741 19.1517 27.068 16.954 27.068C16.7905 27.068 16.6323 27.062 16.4848 27.1677C14.8202 28.3616 12.9419 28.7981 10.9176 28.7981C7.38685 28.7988 4.53062 27.4087 2.32001 24.6871C1.47972 23.6498 0.97554 22.4415 0.80444 21.1062C0.793794 21.0217 0.761095 20.9404 0.738281 20.8575C0.738281 20.4278 0.738281 19.9982 0.738281 19.5678C0.757292 19.5214 0.78771 19.4758 0.793033 19.4279C0.960331 17.9495 1.58998 16.6515 2.34738 15.4013C2.88958 14.5055 3.47969 13.6386 3.95268 12.701C4.55952 11.4979 4.84316 10.2379 4.63708 8.89036C4.5983 8.63485 4.68803 8.43714 4.90172 8.3109C5.10856 8.18923 5.31312 8.24399 5.50323 8.37706C7.19522 9.55271 7.98228 11.1162 7.60054 13.1998C7.44617 14.0431 7.23248 14.8766 7.18686 15.7389C7.15188 16.3937 7.4378 16.856 7.99597 17.1632C9.33511 17.8994 10.9115 17.2142 11.2841 15.7344C11.5495 14.6804 11.3184 13.6819 10.9282 12.704C10.4651 11.542 9.8545 10.45 9.32523 9.31925C8.0492 6.59154 8.35566 4.05469 10.1997 1.68743C10.5495 1.23877 10.9199 0.809114 11.31 0.394671C11.4583 0.237259 11.6187 0.103421 11.8081 0.000760445C11.859 0 11.91 0 11.9602 0ZM5.8211 10.0614C5.75037 10.4972 5.70399 10.8804 5.62338 11.2569C5.34658 12.5375 4.6964 13.6492 4.01884 14.7473C3.48881 15.6066 2.93597 16.453 2.50632 17.3701C1.97781 18.4986 1.67515 19.672 1.84245 20.9305C2.08275 22.7419 3.02494 24.1563 4.36941 25.3274C6.815 27.4589 9.68112 28.0597 12.821 27.5798C13.3434 27.5 13.8491 27.3053 14.4012 27.0201C14.2567 27.0064 14.2073 27.0004 14.1571 26.9973C12.624 26.903 11.4689 25.8627 11.256 24.3434C11.1404 23.516 11.2172 22.678 11.2142 21.8445C11.2073 19.8111 12.4894 18.5351 14.5252 18.532C16.1419 18.5298 17.7593 18.5229 19.376 18.5389C19.6871 18.5419 19.7829 18.4697 19.7699 18.145C19.6711 15.6956 18.9137 13.4971 17.3624 11.5808C16.4225 10.4204 15.3487 9.38237 14.3594 8.26756C13.2415 7.00826 12.3282 5.62881 11.8256 4.00374C11.6187 3.33379 11.4986 2.64483 11.3974 1.92773C11.3336 1.97031 11.2971 1.984 11.275 2.01062C9.74499 3.86382 9.12295 5.89193 10.037 8.2379C10.4461 9.28732 10.9906 10.2698 11.4651 11.2865C12.0469 12.5321 12.4978 13.8036 12.4172 15.2157C12.297 17.3229 10.7579 18.7092 8.70546 18.5032C7.40662 18.3724 5.85456 17.3876 6.15493 15.3488C6.28573 14.4614 6.50854 13.5922 6.615 12.7017C6.73287 11.7268 6.52223 10.8546 5.8211 10.0614ZM18.9418 25.9639C20.4954 25.9639 22.0482 25.9738 23.6018 25.9608C24.7714 25.951 25.5942 25.1776 25.6474 24.0164C25.6839 23.2095 25.6824 22.3989 25.6482 21.5921C25.5988 20.4301 24.7661 19.64 23.6125 19.6377C20.5182 19.6309 17.4247 19.6309 14.3305 19.6377C13.1297 19.64 12.2902 20.4887 12.275 21.6947C12.2666 22.3769 12.2727 23.059 12.2735 23.7411C12.2758 25.1631 13.0788 25.9624 14.5092 25.9646C15.9867 25.9654 17.4643 25.9639 18.9418 25.9639Z"
                        fill="#1F1F1F"
                      />
                      <path
                        d="M23.0263 23.3312C23.0263 23.684 23.0331 24.0376 23.0248 24.3905C23.0141 24.8209 22.8187 25.0179 22.3989 25.027C22.0582 25.0346 21.7176 25.0361 21.3776 25.0262C20.7016 25.0065 20.2864 24.5677 20.2575 23.8559C20.2248 23.0574 20.57 22.5822 21.2529 22.4947C21.402 22.4757 21.5548 22.4863 21.7054 22.4734C21.8065 22.465 21.9563 22.5198 21.9571 22.3358C21.9571 22.189 21.8704 22.094 21.7244 22.0879C21.4476 22.0772 21.1693 22.0856 20.8925 22.0795C20.4963 22.0704 20.259 21.8597 20.2651 21.5305C20.2712 21.2035 20.5069 21.008 20.9122 21.0012C21.1769 20.9974 21.4423 20.9966 21.7069 21.0012C22.4719 21.0141 22.9867 21.5054 23.0217 22.2711C23.0377 22.6232 23.0248 22.9776 23.0248 23.3304C23.0248 23.3312 23.0255 23.3312 23.0263 23.3312ZM21.681 23.5122C21.529 23.519 21.3579 23.4666 21.3655 23.7152C21.3731 23.9532 21.5449 23.8772 21.662 23.878C21.7928 23.8787 21.9784 23.9525 21.9837 23.6977C21.9906 23.4331 21.7959 23.538 21.681 23.5122Z"
                        fill="#1F1F1F"
                      />
                      <path
                        d="M15.2245 21.6379C15.2945 21.5512 15.3652 21.4653 15.4336 21.3771C15.6945 21.0417 16.004 20.9649 16.2724 21.1695C16.5226 21.3603 16.5241 21.644 16.2739 22.0052C16.1515 22.1816 16.0336 22.3618 15.8975 22.5269C15.7804 22.6683 15.7911 22.7801 15.8937 22.9253C16.1561 23.2957 16.407 23.6751 16.6572 24.0538C16.8709 24.3778 16.8351 24.666 16.5682 24.847C16.3082 25.0234 16.0215 24.9458 15.7911 24.6341C15.604 24.3816 15.4207 24.1261 15.2344 23.8728C15.2298 23.866 15.2124 23.8683 15.1477 23.8576C15.1477 24.0447 15.1561 24.2272 15.1462 24.4082C15.1272 24.7534 14.9143 24.9694 14.6002 24.9542C14.2717 24.939 14.0785 24.7527 14.0755 24.4265C14.0664 23.3025 14.0656 22.1786 14.0755 21.0546C14.0785 20.7185 14.3226 20.4873 14.6276 20.5132C14.9477 20.5398 15.134 20.7216 15.147 21.0524C15.1538 21.2387 15.1485 21.425 15.1485 21.612C15.1728 21.6212 15.1987 21.6295 15.2245 21.6379Z"
                        fill="#1F1F1F"
                      />
                      <path
                        d="M17.192 22.9223C17.192 22.72 17.1828 22.5177 17.1935 22.3162C17.2285 21.6379 17.7091 21.1025 18.3798 20.9877C18.7182 20.9299 19.0604 20.9451 19.3995 20.9657C19.7471 20.9862 19.9463 21.2128 19.9364 21.5261C19.9265 21.8333 19.7136 22.0371 19.3623 22.0554C19.1227 22.0683 18.8824 22.0584 18.6429 22.0607C18.3821 22.0638 18.2467 22.1892 18.2497 22.4584C18.2535 22.774 18.2535 23.0896 18.2497 23.4052C18.2459 23.7094 18.4018 23.8409 18.6946 23.8379C18.9091 23.8356 19.1243 23.8303 19.3379 23.8417C19.7174 23.8614 19.9357 24.0645 19.9372 24.3846C19.9387 24.7071 19.7182 24.9215 19.3471 24.9375C19.0954 24.9489 18.8414 24.9496 18.5897 24.9367C17.776 24.8949 17.2072 24.304 17.1889 23.4896C17.1851 23.3002 17.1882 23.1109 17.1882 22.9215C17.1904 22.9223 17.1912 22.9223 17.192 22.9223Z"
                        fill="#1F1F1F"
                      />
                      <path
                        d="M23.3459 22.7483C23.3459 22.2312 23.3413 21.7133 23.3474 21.1962C23.352 20.7863 23.5459 20.5536 23.8736 20.5415C24.2143 20.5293 24.4402 20.7681 24.4447 21.1954C24.4546 22.2304 24.4531 23.2654 24.4455 24.2996C24.4424 24.7315 24.228 24.9619 23.8782 24.9513C23.5489 24.9406 23.3527 24.7087 23.3474 24.3003C23.3413 23.7832 23.3459 23.2654 23.3459 22.7483Z"
                        fill="#1F1F1F"
                      />
                    </svg>
                    {currentPlan?.estimate.total} KCal
                  </Typography>
                  {updatedItems
                    ?.filter((item) => item.value > 0)
                    ?.map((item, index) => (
                      <Typography
                        key={index}
                        className="textAndIcon freeplanIcons"
                      >
                        {item.icon}
                        {item.value}{" "}
                        {language === "en" ? item.name : item.arabicName}
                      </Typography>
                    ))}
                </div>
              </div>
            )}
            {/* Right Card Lower Part */}
            <div className="rightCardLower">
              {/* Week Days */}
              <div>
                <p>{language === "en" ? "Week Days" : "أيام الأسبوع"}</p>
                <div className="weekDays">
                  {availableDays.map((item, index) => (
                    <div
                      className="weekday"
                      key={index}
                      onClick={() => handleDayClick(index)}
                      style={{
                        border:
                          selectedIndex === index
                            ? `1px solid ${selectedColor}`
                            : "1px solid black",
                        cursor: "pointer",
                      }}
                    >
                      <div
                        className="weekdayFirstDiv"
                        style={{
                          backgroundColor:
                            selectedIndex === index ? selectedColor : "white",
                        }}
                      >
                        <Typography
                          sx={{
                            backgroundColor: "#F8F8F8",
                            borderRadius: "50%",
                            padding: "6px",
                            fontSize: isSmallScreen ? "6px" : "12px",
                          }}
                        >
                          {item.selectedMeals}/{item.totalMeals}
                        </Typography>
                      </div>
                      <div
                        style={{
                          display: "flex",
                          flexDirection: "column",
                          alignItems: "center",
                        }}
                      >
                        <Typography
                          sx={{
                            fontSize: isSmallScreen ? "12px" : "16px",
                            fontWeight: "500",
                          }}
                        >
                          {language === "en"
                            ? item.day.slice(0, 3)
                            : getDaysArabic(item.day)}
                        </Typography>
                        <Typography
                          sx={{ fontSize: isSmallScreen ? "8px" : "10px" }}
                        >
                          {language === "en"
                            ? item.date
                            : getMonthsArabic(item.date)}
                        </Typography>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
              {/* Food Type */}
              <div>
                <p>{language === "en" ? "Food Type" : "نوع الغذاء"}</p>
                <div className="foodType">
                  {foodTypes?.map((item, index) => {
                    return (
                      <div
                        style={{
                          cursor: "pointer",
                          borderColor:
                            selectedFoodType === item ? "#D92531" : "black",
                        }}
                        key={index}
                        onClick={() => handleFoodType(item)}
                      >
                        {language === "en" ? item : getTypeArabic(item)}
                      </div>
                    );
                  })}
                </div>
              </div>
            </div>
          </div>
        </div>
        {loading ? (
          <Loader title="Meals" />
        ) : (
          <div className="meals">
            <p>{language === "en" ? "Select Meals" : "اختر الوجبات"}</p>
            <div className="mealCardContainer">
              {filteredMeals?.map((meal, index) => (
                <div key={index} className="mealCard">
                  {/* Image & Tags */}
                  <div style={{ position: "relative", textAlign: "center" }}>
                    {/* {isLoaded === true ? (
                      <img
                        className="mealCardImg"
                        src={meal?.detail?.image_url}
                        alt="Meal"
                        style={{
                          borderRadius: "50%",
                          width: "160px",
                          height: "160px",
                          objectFit: "cover",
                        }}
                        onLoad={() => setIsLoaded(true)}
                      />
                    ) : (
                      <img
                        className="mealCardImg"
                        src="/Banner.png"
                        alt="Meal"
                        style={{
                          borderRadius: "50%",
                          width: "160px",
                          height: "160px",
                          objectFit: "cover",
                        }}
                      />
                    )} */}
                    <img
                      className="mealCardImg"
                      src={meal?.detail?.image_url}
                      alt="Meal"
                      style={{
                        borderRadius: "50%",
                        width: windowWidth < 321 ? "100px" : "160px",
                        height: windowWidth < 321 ? "100px" : "160px",
                        objectFit: "cover",
                      }}
                    />
                    {/* Info Tag */}
                    <svg
                      onClick={() => handleInfoClick(meal)}
                      className="infoTagImg"
                      width="30"
                      height="30"
                      viewBox="0 0 43 42"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <circle cx="21.4082" cy="21" r="20.5" stroke="#656565" />
                      <path
                        d="M22.5745 10.4997C22.5745 11.144 22.0522 11.6663 21.4079 11.6663C20.7635 11.6663 20.2412 11.144 20.2412 10.4997C20.2412 9.85534 20.7635 9.33301 21.4079 9.33301C22.0522 9.33301 22.5745 9.85534 22.5745 10.4997Z"
                        fill="#656565"
                        stroke="#656565"
                      />
                      <path d="M21.4082 32.6663V16.333" stroke="#656565" />
                    </svg>

                    {/* Spicy Tag */}
                    {meal?.detail?.is_spicy === "yes" && (
                      <svg
                        className="spicyTagImg"
                        width="26"
                        height="26"
                        viewBox="0 0 26 26"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <g clipPath="url(#clip0_1592_10659)">
                          <path
                            d="M9.66549 25.9124C7.57498 25.8798 5.62057 25.5913 3.78049 24.7365C2.64814 24.2085 1.64099 23.5171 0.851608 22.5317C0.710063 22.3521 0.579406 22.1615 0.470526 21.9601C0.225544 21.4865 0.263653 21.04 0.58485 20.6535C0.906048 20.2724 1.37968 20.1254 1.86964 20.2888C2.46304 20.4902 3.05644 20.6971 3.64439 20.9257C6.43173 22.02 8.79988 21.2251 10.9067 19.3143C11.9846 18.3398 12.7414 17.1149 13.4545 15.8573C14.3092 14.3385 15.0279 12.7488 15.8771 11.2299C16.3997 10.2935 16.9659 9.38439 17.7281 8.61678C18.4358 7.89817 19.2633 7.38643 20.2704 7.20133C20.4283 7.17411 20.4719 7.08156 20.5263 6.9618C21.2558 5.33403 22.2466 3.88048 23.4334 2.55758C23.7492 2.20916 24.0649 2.14383 24.4732 2.25271C25.0122 2.3997 25.3715 2.74812 25.5675 3.2653C25.6328 3.43407 25.5784 3.57561 25.4749 3.71716C24.6202 4.9094 23.9179 6.18874 23.3191 7.52797C23.2211 7.74029 23.232 7.87095 23.4062 8.05605C24.5005 9.21562 24.8707 10.6202 24.7563 12.1881C24.544 15.1605 23.2919 17.6756 21.3919 19.8968C19.1708 22.4936 16.4433 24.3555 13.1606 25.368C11.9955 25.7274 10.7924 25.907 9.6546 25.9124H9.66549ZM9.5185 25.1176C10.4059 25.1394 11.2878 25.0468 12.148 24.8236C16.3997 23.7294 19.6879 21.2796 22.0942 17.6375C23.3191 15.7811 23.9996 13.7287 24.0051 11.4694C24.0051 10.8869 23.771 10.544 23.281 10.3153C23.1286 10.2445 22.9652 10.1901 22.8128 10.1193C22.7203 10.0812 22.6549 10.0867 22.6005 10.1847C22.2575 10.8597 21.6478 11.2299 20.9891 11.5293C20.5699 11.7253 20.3086 11.5511 20.3194 11.0829C20.3303 10.6093 20.2596 10.152 20.118 9.70559C20.0799 9.58037 20.0255 9.52593 19.8894 9.52593C19.2742 9.51504 18.6645 9.5586 18.0602 9.6457C17.9077 9.66748 17.7989 9.73825 17.7063 9.86346C17.4722 10.1847 17.2381 10.5113 17.0313 10.8543C16.2146 12.1826 15.5614 13.5926 14.8428 14.97C14.1949 16.2166 13.5144 17.4415 12.6597 18.5576C11.4947 20.0765 10.0956 21.2741 8.22826 21.8458C7.23201 22.1506 6.20853 22.3194 5.16328 22.1833C4.59165 22.1071 4.04181 21.9056 3.4974 21.7151C2.88223 21.4973 2.26705 21.2741 1.65188 21.0509C1.46678 20.9802 1.31979 21.0292 1.19458 21.1707C1.06937 21.3122 1.09659 21.4592 1.18369 21.6171C1.34701 21.9056 1.55389 22.167 1.78254 22.4065C2.37049 23.0217 3.05644 23.5007 3.81316 23.8818C5.60424 24.7855 7.53143 25.0904 9.51305 25.1176H9.5185ZM23.5151 9.53138C23.2429 9.03597 22.938 8.64944 22.5678 8.3228C22.3174 8.0996 22.2902 7.98527 22.4208 7.67496C22.5134 7.4572 22.6059 7.23944 22.7039 7.02168C23.2429 5.80766 23.8907 4.65353 24.6366 3.55384C24.691 3.47762 24.7781 3.41229 24.6964 3.28708C24.495 2.99855 24.1684 2.96044 23.9397 3.21086C22.7638 4.49565 21.8274 5.93288 21.1524 7.53886C21.0435 7.80562 20.8856 7.93083 20.5862 7.9635C19.9819 8.02338 19.4375 8.26292 18.9475 8.62222C18.904 8.65489 18.8332 8.67666 18.8659 8.76377C19.3286 8.7311 19.7968 8.72022 20.265 8.75288C20.4937 8.76921 20.6352 8.87265 20.7223 9.09041C20.8856 9.5096 21.0108 9.93968 21.0653 10.3915C21.0707 10.4569 21.0544 10.6147 21.1959 10.5222C21.5444 10.2935 21.8928 10.0594 21.9472 9.58582C21.9799 9.29728 22.1867 9.16663 22.4753 9.22107C22.8074 9.2864 23.1231 9.40616 23.5151 9.53682V9.53138Z"
                            fill="#F6F6F6"
                          />
                          <path
                            d="M13.068 3.31983C12.7142 3.89145 12.5835 4.50118 12.6216 5.14902C12.6488 5.64987 12.8122 6.10717 13.0299 6.55903C13.5308 7.61517 13.6233 8.70942 13.1442 9.78733C12.6869 10.8271 11.8649 11.4369 10.738 11.622C10.2589 11.6982 10.0847 11.5022 10.1718 11.034C10.3841 9.87988 10.1065 8.84552 9.37697 7.93092C9.1211 7.60972 8.80535 7.34841 8.46237 7.1252C6.86183 6.09084 6.13233 4.61551 6.23577 2.72099C6.2521 2.47056 6.30654 2.22014 6.34465 1.96971C6.26299 1.95338 6.22488 2.00782 6.17588 2.04593C4.39569 3.42871 3.99283 5.99285 5.26673 7.8547C5.50627 8.20312 5.71314 8.55154 5.76758 8.98162C5.89279 9.99421 5.28851 10.985 4.32491 11.3389C3.35043 11.6927 2.27796 11.3225 1.72267 10.4352C1.68456 10.3698 1.64101 10.3045 1.6029 10.2392C1.48858 10.2664 1.49947 10.3698 1.47225 10.4406C0.312667 13.7288 1.92954 17.4743 5.1143 18.8952C5.19052 18.9279 5.27218 18.9605 5.34839 18.9986C5.61515 19.1238 5.71314 19.3307 5.61515 19.5485C5.51716 19.7717 5.2994 19.837 5.03264 19.7281C3.99827 19.2926 3.09456 18.6665 2.33785 17.8445C-0.00853002 15.2912 -0.351504 11.5131 1.48858 8.5842C1.53757 8.50799 1.59201 8.42633 1.66279 8.36644C1.79889 8.25212 1.95676 8.24667 2.1092 8.34467C2.2834 8.45899 2.32151 8.6332 2.26163 8.8183C2.17452 9.0905 2.14186 9.36814 2.22352 9.64579C2.38684 10.2011 2.75159 10.5604 3.31777 10.6584C3.90572 10.7618 4.39569 10.5549 4.72777 10.0541C5.05986 9.55324 5.10341 9.03061 4.74955 8.52976C4.07993 7.59339 3.71518 6.56447 3.72063 5.41578C3.72607 3.37427 5.03264 1.46342 6.92172 0.690366C7.12314 0.608706 7.3028 0.58693 7.45523 0.761138C7.60222 0.924459 7.56411 1.09867 7.47156 1.28376C6.48619 3.22184 7.04693 5.27424 8.87068 6.47192C10.3025 7.41374 11.0211 8.74753 11.0047 10.4624C11.0047 10.7673 11.0047 10.7781 11.2878 10.642C12.2405 10.1793 12.774 9.11772 12.6216 8.00169C12.5563 7.53895 12.4038 7.11432 12.2024 6.70057C11.4511 5.11092 11.7941 3.22184 13.0462 1.99693C13.1932 1.85539 13.3457 1.73562 13.5634 1.83361C13.7812 1.9316 13.8084 2.11126 13.7975 2.32357C13.7213 3.40693 14.184 4.17999 15.1204 4.7135C16.3344 5.40489 16.9496 6.47192 17.0095 7.86015C17.0258 8.18679 16.868 8.37189 16.6066 8.36644C16.3562 8.36644 16.2201 8.19223 16.2147 7.87648C16.1874 6.85845 15.7737 6.02551 14.8972 5.51377C14.0153 4.99659 13.3402 4.34331 13.0517 3.33072L13.068 3.31983Z"
                            fill="#F6F6F6"
                          />
                          <path
                            d="M7.18852 13.3043C6.85644 13.9848 6.75845 14.6544 6.84555 15.3512C6.94899 16.1515 7.29196 16.8429 7.84725 17.4254C8.04324 17.6323 8.05957 17.8718 7.89625 18.0351C7.71659 18.2093 7.50428 18.193 7.29196 17.9807C5.78397 16.5162 5.60431 13.9086 6.89999 12.2645C7.15586 11.9378 7.49339 11.9814 7.64582 12.3625C8.17389 13.7071 9.1266 14.5673 10.5312 14.9266C10.8142 14.9974 10.9503 15.1933 10.8905 15.4166C10.8251 15.6561 10.6183 15.765 10.3188 15.6888C9.07216 15.373 8.08679 14.6816 7.38451 13.6037C7.33007 13.5166 7.27563 13.4349 7.19397 13.3043H7.18852Z"
                            fill="#F6F6F6"
                          />
                          <path
                            d="M17.7497 13.6907C17.7388 13.7234 17.7333 13.7833 17.7116 13.8377C16.9548 15.4328 16.2253 17.0443 15.1692 18.476C15.0875 18.5849 15.0059 18.6938 14.9188 18.7972C14.75 18.9932 14.5377 19.0259 14.358 18.8898C14.1729 18.7482 14.1348 18.5305 14.2927 18.329C15.4033 16.9245 16.1382 15.3022 16.9058 13.7071C16.9494 13.6145 16.9929 13.5165 17.0528 13.4403C17.1617 13.2988 17.3087 13.2443 17.4829 13.3097C17.6517 13.3695 17.7442 13.4948 17.7551 13.7016L17.7497 13.6907Z"
                            fill="#F6F6F6"
                          />
                          <path
                            d="M19.4756 10.7946C19.4756 10.9198 19.4321 11.0015 19.3722 11.0777C19.2415 11.241 19.1054 11.4098 18.9693 11.5731C18.806 11.7636 18.5774 11.7909 18.4031 11.6548C18.2398 11.5241 18.2017 11.2954 18.3378 11.1049C18.4794 10.9144 18.6264 10.7293 18.7897 10.5551C18.9094 10.4298 19.0564 10.3863 19.2306 10.4625C19.3885 10.5333 19.4538 10.6639 19.4702 10.8L19.4756 10.7946Z"
                            fill="#F6F6F6"
                          />
                        </g>
                        <defs>
                          <clipPath id="clip0_1592_10659">
                            <rect
                              width="25.2929"
                              height="25.2875"
                              fill="white"
                              transform="translate(0.3125 0.625)"
                            />
                          </clipPath>
                        </defs>
                      </svg>
                    )}

                    {/* Recommended Tag */}
                    {meal.chef_recommended === "yes" && (
                      <div className="recommended">
                        {language === "en" ? "Recommended" : "مُستَحسَن"}
                      </div>
                    )}
                  </div>
                  <CardContent
                    sx={{
                      padding: "0px",
                      textAlign: "center",
                      justifyContent: "space-between",
                    }}
                  >
                    <Typography
                      variant="h6"
                      sx={{
                        fontWeight: "500",
                        fontSize: isSmallScreen ? "13px" : "16px",
                        mb: 1,
                      }}
                    >
                      {language === "en"
                        ? meal?.detail?.name
                        : meal?.detail?.name_ar}
                    </Typography>
                    <Box display="flex" justifyContent="center" gap={2}>
                      {/* Box 1: 1080 KCal */}
                      <Box display="flex" alignItems="center" gap={0}>
                        <svg
                          width="18"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M11.7826 1.5C12.0022 1.62433 12.1254 1.79201 12.1231 2.06463C12.1083 4.01574 12.8269 5.67827 14.1244 7.11322C14.8801 7.94933 15.6894 8.73583 16.4046 9.60958C17.7124 11.2071 18.3837 13.0373 18.4367 15.0945C18.4436 15.3677 18.52 15.4464 18.7915 15.4361C19.3492 15.4144 19.9087 15.427 20.4677 15.4304C21.7948 15.4378 22.7558 16.3201 22.8368 17.6467C22.8762 18.2883 22.875 18.9362 22.8391 19.5784C22.7644 20.8999 21.8011 21.7942 20.4728 21.7993C18.8245 21.8056 17.1763 21.801 15.528 21.801C15.4054 21.801 15.2868 21.7965 15.1761 21.8757C13.9277 22.7712 12.5189 23.0985 11.0007 23.0985C8.35264 23.0991 6.21047 22.0565 4.55251 20.0153C3.92229 19.2374 3.54416 18.3311 3.41583 17.3296C3.40785 17.2663 3.38332 17.2053 3.36621 17.1431C3.36621 16.8209 3.36621 16.4986 3.36621 16.1758C3.38047 16.141 3.40328 16.1068 3.40727 16.0709C3.53275 14.9622 4.00498 13.9886 4.57304 13.051C4.97969 12.3791 5.42226 11.7289 5.77701 11.0257C6.23214 10.1234 6.44487 9.1784 6.29031 8.16777C6.26123 7.97614 6.32852 7.82785 6.48879 7.73318C6.64392 7.64192 6.79734 7.68299 6.93992 7.7828C8.20892 8.66453 8.79921 9.83714 8.5129 11.3999C8.39713 12.0324 8.23686 12.6574 8.20264 13.3042C8.17641 13.7953 8.39085 14.142 8.80948 14.3724C9.81384 14.9245 10.9961 14.4106 11.2756 13.3008C11.4746 12.5103 11.3013 11.7614 11.0087 11.028C10.6614 10.1565 10.2034 9.33753 9.80642 8.48944C8.8494 6.44365 9.07924 4.54102 10.4623 2.76557C10.7247 2.42907 11.0024 2.10684 11.295 1.796C11.4062 1.67794 11.5265 1.57757 11.6686 1.50057C11.7068 1.5 11.745 1.5 11.7826 1.5ZM7.17832 9.04609C7.12528 9.37289 7.09049 9.66034 7.03004 9.94265C6.82243 10.9031 6.3348 11.7369 5.82663 12.5605C5.42911 13.205 5.01448 13.8397 4.69224 14.5276C4.29586 15.3739 4.06886 16.254 4.19434 17.1979C4.37456 18.5564 5.0812 19.6172 6.08956 20.4955C7.92375 22.0942 10.0733 22.5447 12.4282 22.1849C12.8201 22.125 13.1993 21.979 13.6134 21.7651C13.505 21.7548 13.468 21.7503 13.4303 21.748C12.2805 21.6773 11.4142 20.8971 11.2545 19.7575C11.1678 19.137 11.2254 18.5085 11.2231 17.8834C11.218 16.3583 12.1796 15.4013 13.7064 15.399C14.9189 15.3973 16.132 15.3922 17.3445 15.4042C17.5778 15.4064 17.6497 15.3523 17.64 15.1087C17.5658 13.2717 16.9978 11.6229 15.8343 10.1856C15.1293 9.31528 14.324 8.53678 13.582 7.70067C12.7436 6.7562 12.0587 5.72161 11.6817 4.50281C11.5265 4.00034 11.4364 3.48362 11.3606 2.9458C11.3127 2.97773 11.2853 2.988 11.2688 3.00796C10.1212 4.39787 9.65471 5.91895 10.3403 7.67843C10.6471 8.46549 11.0555 9.20236 11.4113 9.96489C11.8476 10.8991 12.1859 11.8527 12.1254 12.9118C12.0353 14.4922 10.8809 15.5319 9.3416 15.3774C8.36747 15.2793 7.20342 14.5407 7.4287 13.0116C7.5268 12.346 7.6939 11.6941 7.77375 11.0263C7.86215 10.2951 7.70417 9.64094 7.17832 9.04609ZM17.0189 20.9729C18.1841 20.9729 19.3487 20.9803 20.5139 20.9706C21.391 20.9632 22.0081 20.3832 22.0481 19.5123C22.0754 18.9072 22.0743 18.2992 22.0486 17.6941C22.0116 16.8226 21.387 16.23 20.5219 16.2283C18.2012 16.2232 15.881 16.2232 13.5604 16.2283C12.6598 16.23 12.0302 16.8665 12.0187 17.7711C12.0125 18.2826 12.017 18.7942 12.0176 19.3058C12.0193 20.3723 12.6216 20.9718 13.6944 20.9735C14.8025 20.974 15.9107 20.9729 17.0189 20.9729Z"
                            fill="#1F1F1F"
                          />
                          <path
                            d="M20.0821 18.9984C20.0821 19.263 20.0872 19.5282 20.0809 19.7929C20.073 20.1157 19.9264 20.2634 19.6116 20.2702C19.3561 20.2759 19.1005 20.2771 18.8456 20.2697C18.3386 20.2548 18.0272 19.9258 18.0055 19.3919C17.981 18.7931 18.2399 18.4366 18.7521 18.371C18.8639 18.3568 18.9785 18.3648 19.0914 18.3551C19.1673 18.3488 19.2796 18.3898 19.2802 18.2518C19.2802 18.1418 19.2152 18.0705 19.1057 18.0659C18.8981 18.0579 18.6893 18.0642 18.4817 18.0596C18.1846 18.0528 18.0066 17.8948 18.0112 17.6478C18.0158 17.4026 18.1926 17.256 18.4966 17.2509C18.695 17.248 18.8941 17.2475 19.0926 17.2509C19.6663 17.2606 20.0524 17.629 20.0787 18.2033C20.0906 18.4674 20.0809 18.7332 20.0809 18.9978C20.0809 18.9984 20.0815 18.9984 20.0821 18.9984ZM19.0732 19.1341C18.9591 19.1393 18.8308 19.0999 18.8365 19.2864C18.8422 19.4649 18.9711 19.4079 19.0589 19.4085C19.157 19.409 19.2962 19.4644 19.3002 19.2733C19.3053 19.0748 19.1593 19.1535 19.0732 19.1341Z"
                            fill="#1F1F1F"
                          />
                          <path
                            d="M14.2309 17.7288C14.2834 17.6638 14.3364 17.5993 14.3877 17.5332C14.5834 17.2816 14.8155 17.224 15.0168 17.3775C15.2045 17.5206 15.2056 17.7334 15.018 18.0043C14.9261 18.1366 14.8377 18.2717 14.7356 18.3955C14.6478 18.5016 14.6558 18.5854 14.7328 18.6944C14.9296 18.9721 15.1178 19.2567 15.3054 19.5407C15.4657 19.7837 15.4389 19.9999 15.2387 20.1356C15.0436 20.2679 14.8286 20.2097 14.6558 19.9759C14.5155 19.7866 14.378 19.5949 14.2383 19.405C14.2349 19.3999 14.2218 19.4016 14.1733 19.3936C14.1733 19.5339 14.1796 19.6708 14.1721 19.8065C14.1579 20.0654 13.9982 20.2274 13.7626 20.216C13.5163 20.2046 13.3714 20.0649 13.3691 19.8202C13.3623 18.9773 13.3617 18.1343 13.3691 17.2913C13.3714 17.0393 13.5545 16.8659 13.7832 16.8853C14.0233 16.9052 14.163 17.0415 14.1727 17.2896C14.1779 17.4294 14.1739 17.5691 14.1739 17.7094C14.1921 17.7162 14.2115 17.7225 14.2309 17.7288Z"
                            fill="#1F1F1F"
                          />
                          <path
                            d="M15.7068 18.6917C15.7068 18.54 15.7 18.3883 15.708 18.2372C15.7342 17.7284 16.0947 17.3269 16.5977 17.2408C16.8515 17.1974 17.1082 17.2089 17.3625 17.2243C17.6232 17.2397 17.7726 17.4096 17.7652 17.6446C17.7578 17.875 17.5981 18.0279 17.3346 18.0415C17.1549 18.0512 16.9747 18.0438 16.795 18.0455C16.5994 18.0478 16.4979 18.1419 16.5002 18.3438C16.503 18.5805 16.503 18.8172 16.5002 19.0539C16.4973 19.282 16.6142 19.3807 16.8338 19.3784C16.9947 19.3767 17.1561 19.3727 17.3163 19.3813C17.6009 19.3961 17.7646 19.5484 17.7657 19.7885C17.7669 20.0303 17.6015 20.1911 17.3232 20.2031C17.1344 20.2117 16.9439 20.2122 16.7551 20.2025C16.1449 20.1712 15.7182 19.728 15.7046 19.1172C15.7017 18.9752 15.704 18.8332 15.704 18.6912C15.7057 18.6917 15.7063 18.6917 15.7068 18.6917Z"
                            fill="#1F1F1F"
                          />
                          <path
                            d="M20.322 18.5612C20.322 18.1734 20.3186 17.785 20.3232 17.3972C20.3266 17.0897 20.472 16.9152 20.7178 16.9061C20.9734 16.897 21.1427 17.0761 21.1462 17.3966C21.1536 18.1728 21.1524 18.949 21.1467 19.7247C21.1445 20.0486 20.9836 20.2214 20.7213 20.2135C20.4743 20.2055 20.3272 20.0315 20.3232 19.7253C20.3186 19.3374 20.322 18.949 20.322 18.5612Z"
                            fill="#1F1F1F"
                          />
                        </svg>
                        <Typography
                          variant="body"
                          sx={{ color: "#515151", fontSize: "12px" }}
                        >
                          {/* {JSON.parse(meal.cal_protein).en.cal} KCal */}
                        </Typography>
                      </Box>

                      {/* Box 2: Rating */}
                      <Box display="flex" alignItems="center" gap={1}>
                        <StarIcon sx={{ color: "#FFD700", fontSize: 20 }} />
                        <Typography
                          variant="body1"
                          component="span"
                          sx={{ fontWeight: 500 }}
                        >
                          4.5
                        </Typography>
                      </Box>
                    </Box>

                    <Button
                      variant="contained"
                      sx={{
                        bgcolor: selectedColor,
                        color: "#fff",
                        borderRadius: 2,
                        width: "160px",
                        py: 0.5,
                        fontWeight: "light",
                        fontSize: "0.8rem",
                        margin: "20px 0px 0px 10px",
                        height: "40px",
                        boxShadow: "none",
                      }}
                      className="selectButton"
                      onClick={() => handleSelect()}
                    >
                      {language === "en" ? "Select" : "يختار"}
                    </Button>
                  </CardContent>
                </div>
              ))}
            </div>
          </div>
        )}

        <OrderModal modalOpen={modalOpen} setModalOpen={setModalOpen} />
        <MealInfo
          mealInfoModalOpen={mealInfoModalOpen}
          setMealInfoModalOpen={setMealInfoModalOpen}
          modalData={modalData}
        />
        <SubscribeFirst
          subscribeFirstModalOpen={subscribeFirstModalOpen}
          setSubscribeFirstModalOpen={setSubscribeFirstModalOpen}
        />
      </div>
      <div
        className="subscribeButtonContainer"
        onClick={() => handleNavigation()}
      >
        <div className="subscribeButton" style={{backgroundColor:selectedColor}}>
          {language === "en"
            ? "Subscribe Now, Schedule Later"
            : "اشترك الآن، حدد موعدًا لاحقًا"}
        </div>
      </div>
    </>
  );
};

export default PlanDetails;
